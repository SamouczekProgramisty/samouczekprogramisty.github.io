<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.6.0 by Michael Rose
  Copyright 2017 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="pl" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin SEO -->









<title>Strumienie w języku Java - Samouczek Programisty</title>




<meta name="description" content="W artykule tym przeczytasz o strumieniach w języku Java. Dowiesz się czym są strumienie, poznasz podstawowe operacje na strumieniach. Wszystko jak zwykle poparte przykładami kodu. Zdobytą wiedzę będziesz mógł przećwiczyć rozwiązując przykładowe ćwiczenia.">




<meta name="author" content="Marcin Pietraszek">

<meta property="og:locale" content="pl">
<meta property="og:site_name" content="Samouczek Programisty">
<meta property="og:title" content="Strumienie w języku Java">


  <link rel="canonical" href="http://www.samouczekprogramisty.pl/strumienie-w-jezyku-java/">
  <meta property="og:url" content="http://www.samouczekprogramisty.pl/strumienie-w-jezyku-java/">



  <meta property="og:description" content="W artykule tym przeczytasz o strumieniach w języku Java. Dowiesz się czym są strumienie, poznasz podstawowe operacje na strumieniach. Wszystko jak zwykle poparte przykładami kodu. Zdobytą wiedzę będziesz mógł przećwiczyć rozwiązując przykładowe ćwiczenia.">





  

  



  <meta property="og:image" content="http://www.samouczekprogramisty.pl/assets/images/2018/01/30_strumienie_w_jezyku_java_artykul.jpg">



  <meta property="og:type" content="article">
  <meta property="article:published_time" content="2018-01-30T00:00:00+01:00">








  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "Person",
      "name" : "Marcin Pietraszek",
      "url" : "http://www.samouczekprogramisty.pl",
      "sameAs" : null
    }
  </script>






<!-- end SEO -->


<link href="http://www.samouczekprogramisty.pl/feed.xml" type="application/atom+xml" rel="alternate" title="Samouczek Programisty Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="http://www.samouczekprogramisty.pl/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


     <link rel="shortcut icon" href="/assets/images/favicon.ico" /> 

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="http://www.samouczekprogramisty.pl/">Samouczek Programisty</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item"><a href="http://www.samouczekprogramisty.pl/kurs-programowania-java/">Kurs programowania java</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://www.samouczekprogramisty.pl/kurs-aplikacji-webowych/">Kurs aplikacji webowych</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://www.samouczekprogramisty.pl/o-mnie/">O mnie</a></li>
          
            
            <li class="masthead__menu-item"><a href="http://www.samouczekprogramisty.pl/dodatkowe-materialy-do-nauki/">Dodatkowe materiały do nauki</a></li>
          
        </ul>
        <button><div class="navicon"></div></button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/pl_PL/sdk.js#xfbml=1&version=v2.11';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>


  











<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('http://www.samouczekprogramisty.pl/assets/images/2018/01/30_strumienie_w_jezyku_java_artykul.jpg');"
>
  
    <div class="wrapper">
      <h1 class="page__title" itemprop="headline">
        
          Strumienie w języku Java

        
      </h1>
      
        <p class="page__lead">W artykule tym przeczytasz o strumieniach w języku Java. Dowiesz się czym są strumienie, poznasz podstawowe operacje na strumieniach. Wszystko jak zwykle poparte przykładami kodu. Zdobytą wiedzę będziesz mógł przećwiczyć rozwiązując przykładowe ćwiczenia.
</p>
      
      
      
    </div>
  
  
    <span class="page__hero-caption"><a href="https://www.flickr.com/photos/150015896@N08/34409885560/sizes/l">© AdamB1995</a>
</span>
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="http://www.samouczekprogramisty.pl/" itemprop="item"><span itemprop="name">Strona główna</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Strumienie w języku Java</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Strumienie w języku Java">
    <meta itemprop="description" content="W artykule tym przeczytasz o strumieniach w języku Java. Dowiesz się czym są strumienie, poznasz podstawowe operacje na strumieniach. Wszystko jak zwykle poparte przykładami kodu. Zdobytą wiedzę będziesz mógł przećwiczyć rozwiązując przykładowe ćwiczenia.">
    <meta itemprop="datePublished" content="January 30, 2018">
    

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        <aside class="sidebar__right">
            
            <nav class="toc">
                <header>
                    <h4 class="nav__title">
                        <i class="fa fa-file-text"></i>
                        Spis treści
                    </h4>
                </header>
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#czym-są-strumienie">Czym są strumienie</a>
<ul>
<li class="toc-entry toc-h3"><a href="#strumień-na-przykładzie">Strumień na przykładzie</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#analiza-przykładowego-strumienia">Analiza przykładowego strumienia</a></li>
<li class="toc-entry toc-h2"><a href="#operacje-na-strumieniu">Operacje na strumieniu</a>
<ul>
<li class="toc-entry toc-h3"><a href="#wymagania-dla-operacji">Wymagania dla operacji</a>
<ul>
<li class="toc-entry toc-h4"><a href="#nie-posiada-stanu">Nie posiada stanu</a></li>
<li class="toc-entry toc-h4"><a href="#nie-modyfikuje-źródła-danych">Nie modyfikuje źródła danych</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#rodzie-operacji-na-strumieniach">Rodzie operacji na strumieniach</a>
<ul>
<li class="toc-entry toc-h3"><a href="#tworzenie-strumieni">Tworzenie strumieni</a></li>
<li class="toc-entry toc-h3"><a href="#operacje-na-strumieniach">Operacje na strumieniach</a></li>
<li class="toc-entry toc-h3"><a href="#kończenie-strumienia">Kończenie strumienia</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#właściwości-strumieni">Właściwości strumieni</a>
<ul>
<li class="toc-entry toc-h3"><a href="#leniwe-rozstrzyganie">Leniwe rozstrzyganie</a></li>
<li class="toc-entry toc-h3"><a href="#przetwarzanie-sekwencyjne-i-równoległe">Przetwarzanie sekwencyjne i równoległe</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#dobre-praktyki">Dobre praktyki</a>
<ul>
<li class="toc-entry toc-h3"><a href="#filtrowanie-na-początku">Filtrowanie na początku</a></li>
<li class="toc-entry toc-h3"><a href="#unikaj-skomplikowanych-wyrażeń-lambda">Unikaj skomplikowanych wyrażeń lambda</a></li>
<li class="toc-entry toc-h3"><a href="#nie-nadużywaj-strumieni">Nie nadużywaj strumieni</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#strumienie-to-nie-struktury-danych">Strumienie to nie struktury danych</a></li>
<li class="toc-entry toc-h2"><a href="#zadania">Zadania</a></li>
<li class="toc-entry toc-h2"><a href="#dodatkowe-materiały-do-nauki">Dodatkowe materiały do nauki</a></li>
<li class="toc-entry toc-h2"><a href="#podsumowanie">Podsumowanie</a></li>
</ul>
            </nav>
            <hr>
            
            <div class="mailerlite__form">
                <script type="text/javascript" src="https://static.mailerlite.com/data/webforms/698980/y1i5k0.js?v5"></script>
            </div>
            <hr>
            <div class="fb-page" data-href="https://www.facebook.com/SamouczekProgramisty/" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true"><blockquote cite="https://www.facebook.com/SamouczekProgramisty/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/SamouczekProgramisty/">SamouczekProgramisty</a></blockquote></div>
        </aside>
        
<div class="notice--info">
    
<p>To jest jeden z artykułów w ramach <a href="http://www.samouczekprogramisty.pl/kurs-programowania-java">darmowego kursu programowania w Javie</a>. Proszę zapoznaj się z pozostałymi częściami, mogą one być pomocne w zrozumieniu materiału z tego artykułu.</p>

<p>W szczególności potrzebna będzie wiedza na temat <a href="/kolekcje-w-jezyku-java/">kolekcji</a>, <a href="/typy-generyczne-w-jezyku-java/">typów generycznych</a> i <a href="/wyrazenia-lambda-w-jezyku-java/">wyrażeń lambda</a>.</p>

</div>

<h2 id="czym-są-strumienie">Czym są strumienie</h2>

<p>Strumienie służą do przetwarzania danych. Dane mogą być przechowywane w kolekcji, mogą być wynikiem pracy z <a href="/wyrazenia-regularne-w-jezyku-java/">wyrażeniami regularnymi</a>. W strumień możesz opakować praktycznie dowolny zestaw danych. Strumienie pozwalają w łatwy sposób zrównoleglić pracę na danych. Dzięki temu przetwarzanie dużych zbiorów danych może być dużo szybsze. Strumienie kładą nacisk na operacje jakie należy przeprowadzić na danych.</p>

<p class="notice--warning">Niestety pojęcie strumienia jest dość szerokie. Możesz się z nim także spotkać w przypadku pracy z plikami. W tym artykule mówiąc o strumieniach mam na myśli klasy implementujące interfejs <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html"><code class="highlighter-rouge">Stream</code></a>.</p>

<h3 id="strumień-na-przykładzie">Strumień na przykładzie</h3>

<p>Proszę spójrz na przykład poniżej. Postaram się pokazać Ci dwa różne sposoby na zrealizowanie wymagań. Pierwszy ze sposobów będzie opierał się na <a href="/petle-i-instrukcje-warunkowe-w-jezyku-java/">pętli</a>, drugi na strumieniach.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoardGame</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">rating</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="n">BigDecimal</span> <span class="n">price</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">minPlayers</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">maxPlayers</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">double</span> <span class="n">rating</span><span class="o">,</span> <span class="n">BigDecimal</span> <span class="n">price</span><span class="o">,</span> <span class="kt">int</span> <span class="n">minPlayers</span><span class="o">,</span> <span class="kt">int</span> <span class="n">maxPlayers</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">rating</span> <span class="o">=</span> <span class="n">rating</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">minPlayers</span> <span class="o">=</span> <span class="n">minPlayers</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">maxPlayers</span> <span class="o">=</span> <span class="n">maxPlayers</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Klasa <code class="highlighter-rouge">BoardGame</code> opisuje grę planszową. Przy jej pomocy możesz utworzyć listę gier:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">List</span><span class="o">&lt;</span><span class="n">BoardGame</span><span class="o">&gt;</span> <span class="n">games</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Terraforming Mars"</span><span class="o">,</span> <span class="mf">8.38</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"123.49"</span><span class="o">),</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">5</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Codenames"</span><span class="o">,</span> <span class="mf">7.82</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"64.95"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">8</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Puerto Rico"</span><span class="o">,</span> <span class="mf">8.07</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"149.99"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">5</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Terra Mystica"</span><span class="o">,</span> <span class="mf">8.26</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"252.99"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">5</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Scythe"</span><span class="o">,</span> <span class="mf">8.3</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"314.95"</span><span class="o">),</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">5</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Power Grid"</span><span class="o">,</span> <span class="mf">7.92</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"145"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">6</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"7 Wonders Duel"</span><span class="o">,</span> <span class="mf">8.15</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"109.95"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Dominion: Intrigue"</span><span class="o">,</span> <span class="mf">7.77</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"159.95"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"Patchwork"</span><span class="o">,</span> <span class="mf">7.77</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"75"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">2</span><span class="o">),</span>
    <span class="k">new</span> <span class="nf">BoardGame</span><span class="o">(</span><span class="s">"The Castles of Burgundy"</span><span class="o">,</span> <span class="mf">8.12</span><span class="o">,</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="s">"129.95"</span><span class="o">),</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">4</span><span class="o">)</span>
<span class="o">);</span>
</code></pre></div></div>

<p>Lista <code class="highlighter-rouge">games</code> zawiera 10 tytułów gier planszowych. Pochodzą one z listy najbardziej popularnych gier według portalu <a href="https://boardgamegeek.com/browse/boardgame">BGG</a><sup id="fnref:gry"><a href="#fn:gry" class="footnote">1</a></sup>. Załóżmy, że chciałbyś zrobić znajomemu prezent. Chcesz kupić grę, gra powinna spełniać następujące warunki:</p>

<ul>
  <li>powinna pozwolić na grę w więcej niż 4 osoby,</li>
  <li>powinna mieć ocenę wyższą niż 8,</li>
  <li>powinna kosztować mniej niż 150 zł.</li>
</ul>

<p>Następnie chcesz wyświetlić nazwy gier spełniających takie wytyczne wielkimi literami. Warunki te możesz spełnić przy pomocy poniższego fragmentu kodu:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="o">(</span><span class="n">BoardGame</span> <span class="n">game</span> <span class="o">:</span> <span class="n">games</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">maxPlayers</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">rating</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">150</span><span class="o">).</span><span class="na">compareTo</span><span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">price</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">());</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Prawda, że kod układa się w piękną strzałkę ;)? Taka struktura ma swoją nazwę: <a href="http://wiki.c2.com/?ArrowAntiPattern"><em>Arrow Anti-Pattern</em></a>. Dobrze jest unikać tego typu zagnieżdżonych warunków. Jednym ze sposobów uniknięcia tego antywzorca może być użycie strumieni:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">games</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">maxPlayers</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">rating</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">150</span><span class="o">).</span><span class="na">compareTo</span><span class="o">(</span><span class="n">g</span><span class="o">.</span><span class="na">price</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">())</span>
    <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</code></pre></div></div>

<p>Oba sposoby pozwalają na uzyskanie tych samych wyników. Drugi sposób wykorzystuje strumienie i <a href="/wyrazenia-lambda-w-jezyku-java/">wyrażenia lambda</a>. Operacje na strumieniach wykorzystując wzorzec łączenia metod (ang. <a href="https://en.wikipedia.org/wiki/Method_chaining"><em>method chaining</em></a>), zwany także płynnym interfejsem (ang. <a href="https://en.wikipedia.org/wiki/Fluent_interface"><em>fluent interface</em></a>).</p>

<p>Rozłożę teraz ten strumień na części pierwsze.</p>

<h2 id="analiza-przykładowego-strumienia">Analiza przykładowego strumienia</h2>

<p>Aby w ogóle mówić o operacjach na strumieniu należy go na początku utworzyć. W poprzednim przykładzie użyłem metody <a href="https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html#stream--"><code class="highlighter-rouge">stream</code></a>. Metoda ta jest <a href="/interfejsy-w-jezyku-java//#metody-domyślne">metodą domyślną</a> zaimplementowaną w interfejsie <a href="https://docs.oracle.com/javase/9/docs/api/java/util/Collection.html"><code class="highlighter-rouge">Collection</code></a>. Pozwala ona na utworzenie strumienia na podstawie danych znajdujących się w danej kolekcji.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">BoardGame</span><span class="o">&gt;</span> <span class="n">gamesStream</span> <span class="o">=</span> <span class="n">games</span><span class="o">.</span><span class="na">stream</span><span class="o">();</span>
</code></pre></div></div>

<p class="notice--info">Strumienie zostały wprowadzone w Java 8. W tej wersji także dodano możliwość dodawania metod domyślnych do interfejsów. Te domyślne implementacje metod pozwoliły na dodanie nowych funkcjonalności nie psując kompatybilności wstecz.</p>

<p>Interfejs <code class="highlighter-rouge">Stream</code> jest <a href="/typy-generyczne-w-jezyku-java/">interfejsem generycznym</a>. Przechowuje on informację o typie, który aktualnie znajduje się w danym strumieniu. W przykładzie powyżej utworzyłem strumień <code class="highlighter-rouge">gamesStream</code> zawierający instancje klasy <code class="highlighter-rouge">BoardGame</code>. Strumień ten utworzyłem na podstawie <a href="/struktury-danych-lista-wiazana/">listy</a>.</p>

<p>Następnie filtruję strumień używając wyrażeń lambda. Zwróć uwagę na to, że każde wywołanie metody <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-"><code class="highlighter-rouge">filter</code></a> tworzy nową instancję klasy <code class="highlighter-rouge">Stream</code>. Każda linijka odpowiedzialna jest za filtr innego rodzaju. Pierwszy wybiera wyłącznie te gry, w które może grać więcej niż 4 graczy. Wśród tak odfiltrowanych gier następnie wybieram te, których ocena jest wyższa niż 8. Ostatnim zawężeniem jest wybranie gier, które kosztują mniej niż 150zł:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">BoardGame</span><span class="o">&gt;</span> <span class="n">filteredStream</span> <span class="o">=</span> <span class="n">gamesStream</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">maxPlayers</span> <span class="o">&gt;</span> <span class="mi">4</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">rating</span> <span class="o">&gt;</span> <span class="mi">8</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="k">new</span> <span class="n">BigDecimal</span><span class="o">(</span><span class="mi">150</span><span class="o">).</span><span class="na">compareTo</span><span class="o">(</span><span class="n">g</span><span class="o">.</span><span class="na">price</span><span class="o">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="o">);</span>
</code></pre></div></div>

<p>W tym przypadku nie zapisywałem pośrednich strumieni do zmiennych. Zapisałem wyłącznie wynik, który otrzymam po użyciu wszystkich trzech filtrów. Następnie z każdej gry pobieram jej nazwę i zmieniam ją na pisaną wielkimi literami:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">namesStream</span> <span class="o">=</span> <span class="n">filteredStream</span>
    <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">g</span> <span class="o">-&gt;</span> <span class="n">g</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">());</span>
</code></pre></div></div>

<p>Strumień <code class="highlighter-rouge">filteredStream</code> zawiera instancje klasy <code class="highlighter-rouge">BoardGame</code>, z każdej z tych instancji pobieram nazwę. Nazwa ta jest następnie zwracana. Dzięki temu powstaje nowy strumień. Tym razem strumień zawiera zmienne typu <code class="highlighter-rouge">String</code>.</p>

<p>Ostatnią fazą jest wyświetlenie tak wybranych danych. Używam do tego <a href="/wyrazenia-lambda-w-jezyku-java//#odwoływanie-się-do-metod">odwołania do metody</a> <code class="highlighter-rouge">println</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">namesStream</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</code></pre></div></div>

<h2 id="operacje-na-strumieniu">Operacje na strumieniu</h2>

<p>Operacje związane ze strumieniami można podzielić na trzy rozłączne grupy:</p>

<ul>
  <li>tworzenie strumienia,</li>
  <li>przetwarzanie danych wewnątrz strumienia,</li>
  <li>zakończenie strumienia.</li>
</ul>

<p>Każdy strumień ma dokładnie jedną metodę, która go tworzy na podstawie danych źródłowych<sup id="fnref:zrodlo"><a href="#fn:zrodlo" class="footnote">2</a></sup>. Następnie dane te są przetwarzane przez dowolną liczbę operacji. Każda z tych operacji tworzy nowy strumień danych wywodzący się z poprzedniego. Na samym końcu strumień może mieć dokładnie jedną metodę kończącą pracę ze strumieniem.</p>

<h3 id="wymagania-dla-operacji">Wymagania dla operacji</h3>

<p>Każda z operacji wykonywanych na strumieniu musi spełniać jasno określone wymagania.</p>

<h4 id="nie-posiada-stanu">Nie posiada stanu</h4>

<p>Operacja nie może posiadać stanu. Przykładem operacji, która taki stan posiada jest metoda <code class="highlighter-rouge">modify</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">StatefullOperation</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">seen</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;();</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">modify</span><span class="o">(</span><span class="kt">int</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">seen</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">number</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">number</span><span class="o">;</span>
        <span class="o">}</span>
        <span class="n">seen</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">number</span><span class="o">);</span>
        <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
            <span class="n">StatefullOperation</span> <span class="n">requriements</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StatefullOperation</span><span class="o">();</span>
            <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">numbers</span><span class="o">.</span><span class="na">parallel</span><span class="o">()</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">requriements:</span><span class="o">:</span><span class="n">modify</span><span class="o">)</span>
                <span class="o">.</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span><span class="o">.</span><span class="na">intValue</span><span class="o">()).</span><span class="na">sum</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></div></div>

<p>Jeśli nie spełnisz tego wymagania może to prowadzić do dziwnych, niedeterministycznych wyników w trakcie równoległego przetwarzania strumienia danych (o przetwarzaniu równoległym przeczytasz w jednym z poniższych akapitów). Spróbuj uruchomić ten fragment wiele razy. Czy dostajesz takie same wyniki za każdym razem :)? Uwierz mi, nie chcesz szukać takich błędów w programach uruchomionych na środowisku produkcyjnym. Znam to, byłem tam, nie rób tego.</p>

<h4 id="nie-modyfikuje-źródła-danych">Nie modyfikuje źródła danych</h4>

<p>Operacja nie może modyfikować źródła danych. Taka modyfikacja jest automatycznie wykryta w trakcie pracy ze strumieniem. Pokazuje ją poniższy fragment kodu:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">numbers</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">1</span><span class="o">);</span>
<span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>

<span class="n">numbers</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
    <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">v</span> <span class="o">-&gt;</span> <span class="n">numbers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">v</span><span class="o">)</span> <span class="o">?</span> <span class="mi">1</span> <span class="o">:</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</code></pre></div></div>

<p>Uruchomienie tego kodu kończy się rzuceniem wyjątku:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
Exception in thread "main" java.util.ConcurrentModificationException
1
    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1380)
    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)
    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)
    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)
    at pl.samouczekprogramisty.kursjava.streams.requirements.InterferingOperation.main(InterferingOperation.java:15)
</code></pre></div></div>

<h2 id="rodzie-operacji-na-strumieniach">Rodzie operacji na strumieniach</h2>

<h3 id="tworzenie-strumieni">Tworzenie strumieni</h3>

<p>Strumienie można tworzyć na wiele sposobów poniżej pokażę Ci kilka przykładów.</p>

<ul>
  <li>Strumień na podstawie kolekcji:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">stream1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LinkedList</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;().</span><span class="na">stream</span><span class="o">();</span>
</code></pre></div></div>

<ul>
  <li>Strumień na podstawie tablicy:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">stream2</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="k">new</span> <span class="n">Integer</span><span class="o">[]{});</span>
</code></pre></div></div>

<ul>
  <li>Strumień na podstawie łańcucha znaków rozdzielanego przez wyrażenie regularne:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stream3</span> <span class="o">=</span> <span class="n">Pattern</span><span class="o">.</span><span class="na">compile</span><span class="o">(</span><span class="s">"."</span><span class="o">).</span><span class="na">splitAsStream</span><span class="o">(</span><span class="s">"some longer sentence"</span><span class="o">);</span>
</code></pre></div></div>
<ul>
  <li>Strumień <a href="/typy-proste-w-jezyku-java/">typów prostych</a>:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DoubleStream</span> <span class="n">doubles</span> <span class="o">=</span> <span class="n">DoubleStream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">1</span><span class="o">,</span> <span class="mi">2</span><span class="o">,</span> <span class="mi">3</span><span class="o">);</span>
<span class="n">IntStream</span> <span class="n">ints</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">123</span><span class="o">);</span>
<span class="n">LongStream</span> <span class="n">longs</span> <span class="o">=</span> <span class="n">LongStream</span><span class="o">.</span><span class="na">generate</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="mi">1L</span><span class="o">);</span>
</code></pre></div></div>

<ul>
  <li>Strumień danych losowych:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">DoubleStream</span> <span class="n">randomDoubles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">().</span><span class="na">doubles</span><span class="o">();</span>
<span class="n">IntStream</span> <span class="n">randomInts</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">().</span><span class="na">ints</span><span class="o">();</span>
<span class="n">LongStream</span> <span class="n">randomLongs</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Random</span><span class="o">().</span><span class="na">longs</span><span class="o">();</span>
</code></pre></div></div>

<ul>
  <li>Pusty strumień:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Stream</span><span class="o">.</span><span class="na">empty</span><span class="o">();</span>
</code></pre></div></div>

<ul>
  <li>Strumień danych z pliku:</li>
</ul>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">(</span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">lines</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="k">new</span> <span class="n">FileReader</span><span class="o">(</span><span class="s">"file.txt"</span><span class="o">)).</span><span class="na">lines</span><span class="o">())</span> <span class="o">{</span>
    <span class="c1">// do something</span>
<span class="o">}</span>
</code></pre></div></div>

<p class="notice--warning">Strumień danych z pliku musi być zamknięty. W przykładzie powyżej użyłem do tego konstrukcji <a href="/konstrukcja-try-with-resources-w-jezyku-java/">try-with-resources</a>. Strumień możesz także zamknąć wywołując na nim metodę <code class="highlighter-rouge">close</code>.</p>

<h3 id="operacje-na-strumieniach">Operacje na strumieniach</h3>

<p>Nie opiszę tutaj wszystkich metod dostępnych na strumieniach. Jeśli chcesz poznać ich więcej zachęcam do zapoznania się z <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html">dokumentacją interfejsu <code class="highlighter-rouge">Stream</code></a>.</p>

<ul>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-&lt;S-Del&gt;"><code class="highlighter-rouge">filter</code></a> - zwraca strumień zawierający tylko te elementy dla których filtr zwrócił wartość <code class="highlighter-rouge">true</code>,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-"><code class="highlighter-rouge">map</code></a> - każdy z elementów może zostać zmieniony do innego typu, nowy obiekt zawarty jest w nowym strumieniu,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#peek-java.util.function.Consumer-"><code class="highlighter-rouge">peek</code></a> - pozwala przeprowadzić operację na każdym elemencie w strumieniu, zwraca strumień z tymi samymi elementami,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#limit-long-"><code class="highlighter-rouge">limit</code></a> - zwraca strumień ograniczony do zadanej liczby elementów, pozostałe są ignorowane.</li>
</ul>

<h3 id="kończenie-strumienia">Kończenie strumienia</h3>

<p>Operacjami kończącymi są wszystkie, które zwracają typ inny niż <code class="highlighter-rouge">Stream</code>. Metody tego typu mogą także nie zwracać żadnych wartości.</p>

<ul>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-"><code class="highlighter-rouge">forEach</code></a> - wykonuje zadaną operację dla każdego elementu,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#count--"><code class="highlighter-rouge">count</code></a> - zwraca liczbę elementów w strumieniu,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-"><code class="highlighter-rouge">allMatch</code></a> - zwraca flagę informującą czy wszystkie elementy spełniają warunek. Przestaje sprawdzać na pierwszym elemencie, który tego warunku nie spełnia,</li>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#collect-java.util.stream.Collector-"><code class="highlighter-rouge">collect</code></a> - pozwala na utworzenie nowego typu na podstawie elementów strumienia. Przy pomocy tej metody można na przykład utworzyć listę. Klasa <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html"><code class="highlighter-rouge">Collectors</code></a> zawiera sporo gotowych implementacji.</li>
</ul>

<h2 id="właściwości-strumieni">Właściwości strumieni</h2>

<h3 id="leniwe-rozstrzyganie">Leniwe rozstrzyganie</h3>

<p>Strumienie są leniwe :). Oznacza to, że przetwarzają elementy dopiero po wykonaniu metody kończącej. Dodatkowo niektóre operacje powodują wcześniejsze zakończenie czytania danych ze strumienia. Przykładem takiej operacji jest <code class="highlighter-rouge">limit</code>. Poniższy przykład pokaże Ci dokładnie te właściwości:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">IntStream</span> <span class="n">numbersStream</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">0</span><span class="o">,</span> <span class="mi">8</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Przed"</span><span class="o">);</span>
<span class="n">numbersStream</span> <span class="o">=</span> <span class="n">numbersStream</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"W trakcie 1"</span><span class="o">);</span>
<span class="n">numbersStream</span> <span class="o">=</span> <span class="n">numbersStream</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"&gt; "</span> <span class="o">+</span> <span class="n">n</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">;</span>
<span class="o">});</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"W trakcie 2"</span><span class="o">);</span>
<span class="n">numbersStream</span> <span class="o">=</span> <span class="n">numbersStream</span><span class="o">.</span><span class="na">limit</span><span class="o">(</span><span class="mi">2</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"W trakcie 3"</span><span class="o">);</span>
<span class="n">numbersStream</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Po"</span><span class="o">);</span>
</code></pre></div></div>

<p>Po uruchomieniu tego kodu na konsoli będziesz mógł zobaczyć:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Przed
W trakcie 1
W trakcie 2
W trakcie 3
&gt; 0
0
&gt; 2
2
Po
</code></pre></div></div>

<p>Zauważ, że komunikaty “W trakcie X” zostały wyświetlone przed operacją <code class="highlighter-rouge">map</code>. Zwróć także uwagę na to, że przetwarzanie skończyło się po dwóch elementach. To sprawka metody <code class="highlighter-rouge">limit</code>.</p>

<h3 id="przetwarzanie-sekwencyjne-i-równoległe">Przetwarzanie sekwencyjne i równoległe</h3>

<p>Strumienie mogą być przetwarzane sekwencyjnie bądź równolegle. Metoda <code class="highlighter-rouge">stream</code> tworzy sekwencyjny strumień danych. Metoda <code class="highlighter-rouge">parallelStream</code> tworzy strumień, który jest uruchamiany jednocześnie na kilku wątkach. To ile wątków zostanie uruchomionych zależy od procesora.</p>

<p>Strumień sekwencyjny można przełączyć na równoległy wywołując na nim metodę <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/BaseStream.html#parallel--"><code class="highlighter-rouge">parallel</code></a>. Odwrotna operacja także jest możliwa dzięki metodzie <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/BaseStream.html#sequential--"><code class="highlighter-rouge">sequential</code></a>.</p>

<h2 id="dobre-praktyki">Dobre praktyki</h2>

<p>W tym paragrafie postaram się zebrać dobre praktyki ułatwiające pracę ze strumieniami danych.</p>

<h3 id="filtrowanie-na-początku">Filtrowanie na początku</h3>

<p>W związku z tym, że operacje na strumieniach wykonywane są tylko wtedy gdy jest to konieczne warto ograniczyć liczbę elementów najwcześniej jak to możliwe. Dzięki takiej prostej operacji możemy znacząco ograniczyć liczbę elementów, na których wykonana będzie czasochłonna metoda. W przykładzie poniżej symuluję czasochłonne wykonanie przez <code class="highlighter-rouge">Thread.sleep(100)</code>. Wywołanie to “usypia” wątek na 100 milisekund <sup id="fnref:przyklad"><a href="#fn:przyklad" class="footnote">3</a></sup>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">timeConsumingTransformation</span><span class="o">(</span><span class="kt">int</span> <span class="n">number</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">number</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>W pierwszym przykładzie czasochłonna metoda wykonana jest na każdej z liczb:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">slowNumber</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1950</span><span class="o">,</span> <span class="mi">2150</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">StreamsGoodPractices:</span><span class="o">:</span><span class="n">timeConsumingTransformation</span><span class="o">)</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2000</span><span class="o">)</span>
        <span class="o">.</span><span class="na">sum</span><span class="o">();</span>
</code></pre></div></div>

<p>Lepszym rozwiązaniem, może być odwrócenie kolejności tych operacji. W tym przypadku czasochłonna metoda zostanie wywołana wyłącznie na przefiltrowanych elementach:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">fastNumber</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1950</span><span class="o">,</span> <span class="mi">2150</span><span class="o">)</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">n</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2000</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="nl">StreamsGoodPractices:</span><span class="o">:</span><span class="n">timeConsumingTransformation</span><span class="o">)</span>
        <span class="o">.</span><span class="na">sum</span><span class="o">();</span>
</code></pre></div></div>

<h3 id="unikaj-skomplikowanych-wyrażeń-lambda">Unikaj skomplikowanych wyrażeń lambda</h3>

<p>Skomplikowane, wieloliniowe wyrażenie lambda może nie być czytelne. W takim przypadku, moim zdaniem, lepiej opakować kod w metodę i użyć odnośnika do metody wewnątrz strumienia. Proszę porównaj dwa poniższe przykłady</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1950</span><span class="o">,</span> <span class="mi">2150</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">y</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">y</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">y</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">)</span> <span class="o">||</span> <span class="n">y</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">==</span> <span class="mi">0</span><span class="o">)</span>
    <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
</code></pre></div></div>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">IntStream</span><span class="o">.</span><span class="na">range</span><span class="o">(</span><span class="mi">1950</span><span class="o">,</span> <span class="mi">2150</span><span class="o">)</span>
    <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="nl">StreamsGoodPractices:</span><span class="o">:</span><span class="n">isLeapYear</span><span class="o">)</span>
    <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="kt">boolean</span> <span class="nf">isLeapYear</span><span class="o">(</span><span class="kt">int</span> <span class="n">year</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">boolean</span> <span class="n">every4Years</span> <span class="o">=</span> <span class="n">year</span> <span class="o">%</span> <span class="mi">4</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">notEvery100Years</span> <span class="o">=</span> <span class="n">year</span> <span class="o">%</span> <span class="mi">100</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">;</span>
    <span class="kt">boolean</span> <span class="n">every400Years</span> <span class="o">=</span> <span class="n">year</span> <span class="o">%</span> <span class="mi">400</span> <span class="o">==</span> <span class="mi">0</span><span class="o">;</span>

    <span class="k">return</span> <span class="o">(</span><span class="n">every4Years</span> <span class="o">&amp;&amp;</span> <span class="n">notEvery100Years</span><span class="o">)</span> <span class="o">||</span> <span class="n">every400Years</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Chociaż drugi przykład jest zdecydowanie dłuższy wydaje mi się, że jest tez bardziej czytelny. A czytelność kodu ma znaczenie :).</p>

<h3 id="nie-nadużywaj-strumieni">Nie nadużywaj strumieni</h3>

<p>Jak ktoś umie obsługiwać młotek to każdy problem wygląda jak gwóźdź. Strumienie są jednym ze sposobów rozwiązania problemu. To nie jest prawda, że znając strumienie powinieneś zapomnieć o pętlach. Dobrze jest znać oba mechanizmy. Poza tym, niektórych konstrukcji nie da się uzyskać przy pomocy strumieni. Przykładem mogą być tu niektóre pętle ze słówkiem kluczowym <code class="highlighter-rouge">break</code>.</p>

<h2 id="strumienie-to-nie-struktury-danych">Strumienie to nie struktury danych</h2>

<p>W poprzednich artykułach opisałem kilka struktur danych. Przykładem struktur danych może być <a href="/struktury-danych-lista-wiazana/">lista wiązana</a> czy <a href="/struktury-danych-tablica-asocjacyjna/">mapa</a>. Strumienie nie są strukturą danych. W odróżnieniu od struktur nie służą do przechowywania danych. Strumienie jedynie pomagają określić operacje, które na tych danych chcesz wykonać.</p>

<p>Mówi się, że strumienie pozwalają w deklaratywny sposób opisać operacje na danych. Można to uprościć do stwierdzenia, że struktury służą do przechowywania danych a strumienie służą do opisywania algorytmów, operacji na danych.</p>

<h2 id="zadania">Zadania</h2>

<p>Na koniec przygotowałem dla Ciebie kilka zadań do rozwiązania, które pomogą Ci utrwalić wiedzę zdobytą w tym artykule:</p>

<ul>
  <li>Przerób poniższa fragment kodu tak żeby używał strumieni:
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">highestRanking</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="n">BoardGame</span> <span class="n">bestGame</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="k">for</span> <span class="o">(</span><span class="n">BoardGame</span> <span class="n">game</span> <span class="o">:</span> <span class="n">BoardGame</span><span class="o">.</span><span class="na">GAMES</span><span class="o">)</span> <span class="o">{</span>
  <span class="k">if</span> <span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">"a"</span><span class="o">))</span> <span class="o">{</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">game</span><span class="o">.</span><span class="na">rating</span> <span class="o">&gt;</span> <span class="n">highestRanking</span><span class="o">)</span> <span class="o">{</span>
          <span class="n">highestRanking</span> <span class="o">=</span> <span class="n">game</span><span class="o">.</span><span class="na">rating</span><span class="o">;</span>
          <span class="n">bestGame</span> <span class="o">=</span> <span class="n">game</span><span class="o">;</span>
      <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">bestGame</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
</code></pre></div>    </div>
  </li>
  <li>Znajdź minimalny element w kolekcji używając strumieni i funkcji <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#reduce-java.util.function.BinaryOperator-"><code class="highlighter-rouge">reduce</code></a>. Twoja funkcja powinna działać jak istniejąca funkcja <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#min-java.util.Comparator-"><code class="highlighter-rouge">min</code></a>.</li>
  <li>Używając metody <a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#flatMap-java.util.function.Function-"><code class="highlighter-rouge">flatMap</code></a> napisz strumień, który “spłaszczy” listę list.</li>
</ul>

<h2 id="dodatkowe-materiały-do-nauki">Dodatkowe materiały do nauki</h2>

<p>Poniżej zebrałem dla Ciebie kilka dodatkowych źródeł, które pozwolą spojrzeć Ci na temat strumieni z innej strony.</p>

<ul>
  <li><a href="https://docs.oracle.com/javase/9/docs/api/java/util/stream/package-summary.html">Bardzo dobra dokumentacja pakietu <code class="highlighter-rouge">java.util.stream</code></a>,</li>
  <li><a href="http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html">Część I tutoriala dotyczącego strumieni na stronie Oracle</a>,</li>
  <li><a href="http://www.oracle.com/technetwork/articles/java/architect-streams-pt2-2227132.html">Część II tutoriala dotyczącego strumieni na stronie Oracle</a>,</li>
  <li><a href="www.baeldung.com/java-8-streams">Szczegółowy opis strumieni - Baeldung</a>,</li>
  <li><a href="https://github.com/SamouczekProgramisty/KursJava/tree/master/30_strumienie/src/main/java/pl/samouczekprogramisty/kursjava/streams">Kod źródłowy użyty w tym artykule</a>.</li>
</ul>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Strumienie wraz z wyrażeniami lambda to bardzo użyteczne narzędzie. Po lekturze artykułu wiesz już czym są strumienie i jak z nimi pracować. Potrafisz utworzyć strumień i zaaplikować do niego zestaw operacji. Znasz dobre praktyki pracy ze strumieniami. Rozwiązując ćwiczenia utrwaliłeś wiedzę z artykułu w praktyce.</p>

<p>Na koniec mam do Ciebie prośbę. Podziel się linkiem do artykułu ze swoimi znajomymi jeśli ten artykuł był dla Ciebie wartościowy. Jeśli nie chcesz pominąć kolejnych artykułów na blogu dopisz się do samouczkowego newslettera i polub profil Samouczka Programisty na Facebooku. Do następnego razu!</p>

<div class="footnotes">
  <ol>
    <li id="fn:gry">
      <p>Sam bardzo często gram w planszówki ;). Grałem w większość wymienionych tu gier - mogę je z czystym sumieniem polecić. <a href="#fnref:gry" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:zrodlo">
      <p>Dane źródłowe mogą także pochodzić z innego strumienia. <a href="#fnref:zrodlo" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:przyklad">
      <p>To tylko przykładowa metoda, w praktyce taka czasochłonna operacja może polegać na przykład na pobraniu danych z bazy danych czy z pliku na dysku. <a href="#fnref:przyklad" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        
      </section>

      <footer class="page__meta">
        <div class="mailerlite__form">
            <script type="text/javascript" src="https://static.mailerlite.com/data/webforms/698960/m0b4d5.js?v2"></script>
        </div>
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fa fa-fw fa-folder-open" aria-hidden="true"></i> Kategorie: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="http://www.samouczekprogramisty.pl/kategorie/#kurs-programowania-java" class="page__taxonomy-item" rel="tag">Kurs programowania Java</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fa fa-fw fa-calendar" aria-hidden="true"></i> Ostatnia aktualizacja:</strong> <time datetime="2018-01-30T00:00:00+01:00">January 30, 2018</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Udostępnij</h4>
  

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.samouczekprogramisty.pl%2Fstrumienie-w-jezyku-java%2F" class="btn btn--facebook" title="Udostępnij Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Fwww.samouczekprogramisty.pl%2Fstrumienie-w-jezyku-java%2F" class="btn btn--linkedin" title="Udostępnij LinkedIn"><i class="fa fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="http://www.samouczekprogramisty.pl/rest-web-service-z-java-ee-czesc-2/" class="pagination--pager" title="REST web service z Java EE część 2
">Poprzednia</a>
    
    
      <a href="#" class="pagination--pager disabled">Następna</a>
    
  </nav>

    </div>

    
      <div class="page__comments">
  
    
        <h4 class="page__comments-title">Zostaw komentarz</h4>
        <section id="disqus_thread"></section>
      
</div>
    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">Także może Ci się spodobać</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://www.samouczekprogramisty.pl/assets/images/2018/01/08_struktury_danych_tablica_asocjacyjna_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://www.samouczekprogramisty.pl/struktury-danych-tablica-asocjacyjna/" rel="permalink">Struktury danych - tablica asocjacyjna
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  12 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W artykule tym przeczytasz o tablicy asocjacyjnej zwanej także słownikiem czy mapą. Dowiesz się jak działa ta struktura. Pokażę Ci przykładową implementację ...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://www.samouczekprogramisty.pl/assets/images/2016/11/28_wyrazenia_regularne_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://www.samouczekprogramisty.pl/wyrazenia-regularne-w-jezyku-java/" rel="permalink">Wyrażenia regularne w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  16 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł ten poświęcony jest wyrażeniom regularnym. Dowiesz się w nim czym są wyrażenia regularne, jak i kiedy ich używać. Poznasz klasy biblioteki standardow...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://www.samouczekprogramisty.pl/assets/images/2017/07/26_wyrazenia_lambda_artykul.jpeg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://www.samouczekprogramisty.pl/wyrazenia-lambda-w-jezyku-java/" rel="permalink">Wyrażenia lambda w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  8 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W artykule tym poznasz mechanizm tworzenia wyrażeń lambda. Dowiesz się jak ich używać. Poznasz też praktyczne zastosowania. Dowiesz się też jak działa operat...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "http://www.samouczekprogramisty.pl/assets/images/2017/12/04_walidacja_obiektow_w_jezyku_java_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="http://www.samouczekprogramisty.pl/walidacja-obiektow-w-jezyku-java/" rel="permalink">Walidacja obiektów w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="fa fa-clock-o" aria-hidden="true"></i> 




  11 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł opisuje mechanizm walidacji obiektów. Po lekturze tego artykułu dowiesz się czym jest specyfikacja Bean Validation. Poznasz najczęściej używane reguł...</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>


    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Śledź:</strong></li>
    
    
    
    
    
    
    <li><a href="http://www.samouczekprogramisty.pl/feed.xml"><i class="fa fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2018 Marcin Pietraszek.</div>

      </footer>
    </div>

    
  <script src="http://www.samouczekprogramisty.pl/assets/js/main.min.js"></script>





  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-68536783-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>




  
      
  <script>
    var disqus_config = function () {
      this.page.url = "http://www.samouczekprogramisty.pl/strumienie-w-jezyku-java/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = ""; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://samouczekprogramisty.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


    



  </body>
</html>