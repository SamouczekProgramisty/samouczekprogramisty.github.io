<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.11.2 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="pl" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Wyjątki w języku Java - Samouczek Programisty</title>
<meta name="description" content="Tylko ten nie popełnia błędów, kto nic nie robi. My dzisiaj będziemy popełniać błędy i będziemy starali się je poprawiać. Przekładając to co powiedział Napoleon na kontekst programowania w artykule przeczytasz o wyjątkach w języku Java i ich obsłudze.Dowiesz się czym jest wyjątek i jaką rolę pełni w programowaniu. Dowiesz się kiedy powinniśmy używać wyjątków. Postaram się też przekazać Ci kilka dobrych praktyk związanych z używaniem w wyjątków. Zaczynamy! :)">



<meta property="og:type" content="article">
<meta property="og:locale" content="pl">
<meta property="og:site_name" content="Samouczek Programisty">
<meta property="og:title" content="Wyjątki w języku Java">
<meta property="og:url" content="https://www.samouczekprogramisty.pl/wyjatki-w-jezyku-java/">


  <meta property="og:description" content="Tylko ten nie popełnia błędów, kto nic nie robi. My dzisiaj będziemy popełniać błędy i będziemy starali się je poprawiać. Przekładając to co powiedział Napoleon na kontekst programowania w artykule przeczytasz o wyjątkach w języku Java i ich obsłudze.Dowiesz się czym jest wyjątek i jaką rolę pełni w programowaniu. Dowiesz się kiedy powinniśmy używać wyjątków. Postaram się też przekazać Ci kilka dobrych praktyk związanych z używaniem w wyjątków. Zaczynamy! :)">



  <meta property="og:image" content="https://www.samouczekprogramisty.pl/assets/images/2016/01/31_wyjatki_w_jezyku_java_artykul.jpeg">





  <meta property="article:published_time" content="2016-01-31T00:00:00+01:00">



  <meta property="article:modified_time" content="2019-02-13T15:22:30+01:00">



  

  


<link rel="canonical" href="https://www.samouczekprogramisty.pl/wyjatki-w-jezyku-java/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Marcin Pietraszek",
      "url": "https://www.samouczekprogramisty.pl",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Samouczek Programisty Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


     <link rel="shortcut icon" href="/assets/images/favicon.ico" /> 
 <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">Samouczek Programisty</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-programowania-java/" >Kurs programowania Java</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-aplikacji-webowych/" >Kurs aplikacji webowych</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-sql/" >Kurs SQL</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kontakt/" >Kontakt</a>
            </li>
          
        </ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Przełącz menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/assets/images/2016/01/31_wyjatki_w_jezyku_java_artykul.jpeg');"
>
  
    <div class="wrapper">
      <h1 class="page__title" itemprop="headline">
        
          Wyjątki w języku Java

        
      </h1>
      
        <p class="page__lead">Tylko ten nie popełnia błędów, kto nic nie robi. My dzisiaj będziemy popełniać błędy i będziemy starali się je poprawiać. Przekładając to co powiedział Napoleon na kontekst programowania w artykule przeczytasz o wyjątkach w języku Java i ich obsłudze.
Dowiesz się czym jest wyjątek i jaką rolę pełni w programowaniu. Dowiesz się kiedy powinniśmy używać wyjątków. Postaram się też przekazać Ci kilka dobrych praktyk związanych z używaniem w wyjątków. Zaczynamy! :)
</p>
      
      
      
    </div>
  
  
    <span class="page__hero-caption"><a href="http://marcin.pietraszek.pl">© Marcin Pietraszek ;)</a>
</span>
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="https://www.samouczekprogramisty.pl/" itemprop="item"><span itemprop="name">Strona główna</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Wyjątki w języku Java</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Wyjątki w języku Java">
    <meta itemprop="description" content="Tylko ten nie popełnia błędów, kto nic nie robi. My dzisiaj będziemy popełniać błędy i będziemy starali się je poprawiać. Przekładając to co powiedział Napoleon na kontekst programowania w artykule przeczytasz o wyjątkach w języku Java i ich obsłudze.Dowiesz się czym jest wyjątek i jaką rolę pełni w programowaniu. Dowiesz się kiedy powinniśmy używać wyjątków. Postaram się też przekazać Ci kilka dobrych praktyk związanych z używaniem w wyjątków. Zaczynamy! :)">
    <meta itemprop="datePublished" content="January 31, 2016">
    <meta itemprop="dateModified" content="February 13, 2019">

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        <aside class="sidebar__right">
            
            <nav class="toc">
                <header>
                    <h4 class="nav__title">
                        <i class="fas fa-file-alt"></i>
                        Spis treści
                    </h4>
                </header>
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#czym-jest-wyjątek">Czym jest wyjątek?</a>
<ul>
<li class="toc-entry toc-h3"><a href="#co-się-dzieje-po-rzuceniu-wyjątku">Co się dzieje po rzuceniu wyjątku?</a></li>
<li class="toc-entry toc-h3"><a href="#zrozumieć-stacktrace">Zrozumieć stacktrace</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#obsługa-wyjątków">Obsługa wyjątków</a>
<ul>
<li class="toc-entry toc-h3"><a href="#obsługa-kilku-rodzajów-wyjątków-w-jednym-bloku-catch">Obsługa kilku rodzajów wyjątków w jednym bloku catch</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#rodzaje-wyjątków-checked-oraz-unchecked">Rodzaje wyjątków checked oraz unchecked</a></li>
<li class="toc-entry toc-h2"><a href="#klauzula-throws">Klauzula throws</a></li>
<li class="toc-entry toc-h2"><a href="#klauzula-finally">Klauzula finally</a></li>
<li class="toc-entry toc-h2"><a href="#dobre-praktyki-przy-używaniu-wyjątków">Dobre praktyki przy używaniu wyjątków</a></li>
<li class="toc-entry toc-h2"><a href="#zadanie">Zadanie</a></li>
<li class="toc-entry toc-h2"><a href="#dodatkowe-materiały-do-nauki">Dodatkowe materiały do nauki</a></li>
<li class="toc-entry toc-h2"><a href="#podsumowanie">Podsumowanie</a></li>
</ul>
            </nav>
            <hr>
            
            <div class="mailerlite__form">
                <script type="text/javascript" src="https://static.mailerlite.com/data/webforms/698980/y1i5k0.js?v5"></script>
            </div>
            <hr>
            <div class="fb-page">
            <a href="https://www.facebook.com/SamouczekProgramisty"><img src="/assets/images/facebook_logo.gif" alt="Profil Samouczka na Facebooku"/></a>
            </div>
        </aside>
        <p class="notice--info">To jest jeden z artykułów w ramach <a href="https://www.samouczekprogramisty.pl/kurs-programowania-java">darmowego kursu programowania w Javie</a>. Proszę zapoznaj się z pozostałymi częściami, mogą one być pomocne w zrozumieniu materiału z tego artykułu.</p>

<h2 id="czym-jest-wyjątek">Czym jest wyjątek?</h2>

<p>Wyjątek (ang. <em>exception</em>) jest specjalną klasą. Jest ona specyficzna ponieważ w swoim łańcuchu dziedziczenia ma klasę <code class="highlighter-rouge">java.lang.Throwable</code>. Instancje, które w swojej hierarchii dziedziczenia mają tę klasę mogą zostać „rzucone” (ang. <em>throw</em>) przerywając standardowe wykonanie programu.</p>

<p>Przykładem może być tutaj walidacja argumentów metody. Załóżmy, że nasza metoda jako argument przyjmuje liczbę godzin i zwraca liczbę sekund, odpowiadających przekazanemu argumentowi. Możemy założyć, że akceptujemy wyłącznie argumenty dodatnie lub 0.</p>

<p>Innymi słowy jeśli metoda zostanie wywołana z argumentem mniejszym od 0 możemy uznać to za nieprawidłowe wywołanie i zasygnalizować taką sytuację rzucając wyjątek.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">int</span> <span class="nf">getNumberOfSeconds</span><span class="o">(</span><span class="kt">int</span> <span class="n">hour</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">(</span><span class="s">"Hour must be &gt;= 0: "</span> <span class="o">+</span> <span class="n">hour</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">hour</span> <span class="o">*</span> <span class="mi">60</span> <span class="o">*</span> <span class="mi">60</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>W przykładzie powyżej użyliśmy wyjątku występującego w standardowej bibliotece języka Java: <code class="highlighter-rouge">java.lang.IllegalArgumentException</code>. Do rzucania wyjątku używamy słowa kluczowego <code class="highlighter-rouge">throw</code>.</p>

<div class="notice--success" style="font-size:1em !important">
  <div class="c_almost-header text-center">Gala Twórców 2019</div>
  <p>Samouczek Programisty startuje w konkursie Gala Twórców 2019. Pierwszy etap to głosowanie. Jeśli mógłbym Cię prosić o pomoc i oddanie głosu na mój blog będę Ci wdzięczny :).</p>
  
<p class="text-center"><b><a href="https://bit.ly/gala-tworcow-samouczek">Tak, chcę Ci pomóc i oddać swój głos!</a></b></p>
  
  <p>Procedura głosowania wymaga kilku kliknięć:
  
  <ol>
    <li>Klik w „Głosuj”</li>
    <li>Klik w ikonkę Facebooka</li>
    <li>Pozwolenie aplikacji Gali Twórców na głosowanie (w oddzielnym okienku)</li>
    <li>Klik w „Głosuj”</li>
  </ol></p>
  
  <p>Głosowanie trwa do 31 marca do godziny 12:00. Z góry dziękuję, za Twój głos – jest szansa, że dzięki niemu uda mi się dotrzeć do większego grona odbiorców!</p>
</div>

<h3 id="co-się-dzieje-po-rzuceniu-wyjątku">Co się dzieje po rzuceniu wyjątku?</h3>

<p>Wyobraź sobie kilka metod, które wywołują siebie nawzajem. Te kilka wywołań nazywamy stosem wywołań. Proszę zwróć uwagę na przykład poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">pl</span><span class="o">.</span><span class="na">samouczekprogramisty</span><span class="o">.</span><span class="na">kursjava</span><span class="o">.</span><span class="na">exception</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">StackTraceExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">StackTraceExample</span> <span class="n">example</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StackTraceExample</span><span class="o">();</span>
        <span class="n">example</span><span class="o">.</span><span class="na">method1</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method1</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">method2</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method2</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">method3</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">method3</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"BUM! BUM! BUM!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>W naszym przykładzie w metodzie <code class="highlighter-rouge">main</code> tworzymy instancję klasy <code class="highlighter-rouge">StackTraceExample</code> i na instancji wywołujemy metodę <code class="highlighter-rouge">method1</code>, metoda ta wywołuje z kolei metodę <code class="highlighter-rouge">method2</code>. <code class="highlighter-rouge">method2</code> wywołuje <code class="highlighter-rouge">method3</code>, która rzuca wyjątek <code class="highlighter-rouge">java.lang.RuntimeException</code> (kolejny wyjątek z biblioteki standardowej).</p>

<p>Tą listę metod wywołujących siebie nawzajem nazywamy stosem wywołań. W naszym przypadku stos wygląda następująco:</p>

<ol>
  <li><code class="highlighter-rouge">main</code></li>
  <li><code class="highlighter-rouge">method1</code></li>
  <li><code class="highlighter-rouge">method2</code></li>
  <li><code class="highlighter-rouge">method3</code></li>
</ol>

<p>A co stanie się po uruchomieniu tego programu? Oczywiście zostanie rzucony wyjątek, a programista zobaczy stos wywołań metod (ang. <em>stacktrace</em>), jak w przykładzie poniżej:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Exception in thread "main" java.lang.RuntimeException: BUM! BUM! BUM!
    at pl.samouczekprogramisty.kursjava.exception.StackTraceExample.method3(StackTraceExample.java:18)
    at pl.samouczekprogramisty.kursjava.exception.StackTraceExample.method2(StackTraceExample.java:14)
    at pl.samouczekprogramisty.kursjava.exception.StackTraceExample.method1(StackTraceExample.java:10)
    at pl.samouczekprogramisty.kursjava.exception.StackTraceExample.main(StackTraceExample.java:6)
    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:498)
    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
</code></pre></div></div>

<p>W pracy programisty umiejętność czytania tego typu komunikatów jest bardzo istotna. Dzisiaj stacktrace widzisz pierwszy raz, zapewniam Cię, że zobaczysz go jeszcze dużo razy ;)</p>

<h3 id="zrozumieć-stacktrace">Zrozumieć <em>stacktrace</em></h3>

<p>Proszę zwróć uwagę na stos wywołań metod, który wspomniałem wyżej i porównaj go ze stacktrace’em. Widzisz pewną zależność? Dokładnie – stacktrace to nic innego jak odwrócony stos wywołań metod od rozpoczęcia programu do miejsca w którym został rzucony wyjątek.</p>

<p>Pierwsza linijka mówi o tym jaki wyjątek został rzucony, kolejne linijki to metody, które były wywoływane. Każda linia składa się z nazwy klasy wraz z pakietem, w nawiasach znajduje się nazwa pliku oddzielona dwukropkiem od numeru linii w tym pliku. W naszym przypadku wyjątek <code class="highlighter-rouge">RuntimeException</code> został rzucony po wywołaniu metody <code class="highlighter-rouge">pl.samouczekprogramisty.kursjava.exception.StackTraceExample.method3</code>, która znajduje się w 18 linijce pliku <code class="highlighter-rouge">StackTraceExample.java</code>.</p>

<p>Ostatnie linijki także pokazują na kod programu, jednak ten nie jest już napisany prze mnie. Program powyżej uruchamiałem z IDE i to właśnie przez IntelliJ IDEA stacktrace zawiera te 5 dodatkowych linijek.</p>

<h2 id="obsługa-wyjątków">Obsługa wyjątków</h2>

<p>Już wiesz jak można rzucić wyjątek. Najwyższy czas zacząć je obsługiwać :) Mówimy, że wyjątek jest obsługiwany, jeśli reagujemy na jego wystąpienie i próbujemy “naprawić” program w trakcie jego działania. Możemy też powiedzieć, że łapiemy wyjątek.</p>

<p>Do obsługi wyjątków służy blok <code class="highlighter-rouge">try</code>/<code class="highlighter-rouge">catch</code>. Proszę spójrz na przykład poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">hours</span> <span class="o">=</span> <span class="o">-</span><span class="mi">3</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">numberOfSeconds</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span>
<span class="k">try</span> <span class="o">{</span>
    <span class="n">numberOfSeconds</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">getNumberOfSeconds</span><span class="o">(</span><span class="n">hours</span><span class="o">);</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">IllegalArgumentException</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">numberOfSeconds</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="na">getNumberOfSeconds</span><span class="o">(</span><span class="n">hours</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">numberOfSeconds</span><span class="o">);</span>
</code></pre></div></div>

<p>Znasz już metodę <code class="highlighter-rouge">getNumberOfSeconds</code>. Wiesz, że rzuca wyjątek <code class="highlighter-rouge">IllegalArgumentException</code> jeśli argument jest mniejszy od 0. W przykładzie powyżej otaczamy wywołanie metody blokiem <code class="highlighter-rouge">try {…} catch</code>. Jeśli kod wewnątrz nawiasów <code class="highlighter-rouge">{ }</code> rzuci wyjątek i blok <code class="highlighter-rouge">catch</code> będzie obsługiwał ten typ wyjątku wówczas zostanie wywołany kod w bloku <code class="highlighter-rouge">catch</code> i wyjątek nie przerwie działania programu.</p>

<p>W przykładzie powyżej pierwsze wywołanie metody rzuci wyjątek ponieważ przekazaliśmy <code class="highlighter-rouge">-3</code> jako argument. Rzucony wyjątek jest obsługiwany przez klauzulę <code class="highlighter-rouge">catch</code> (klasa wyjątku “pasuje”) więc zostaje wywołany kod wewnątrz bloku.</p>

<p>Pod blokiem <code class="highlighter-rouge">try</code> może znajdować się wiele bloków <code class="highlighter-rouge">catch</code>. Pierwszy pasujący zostanie wykonany. Rzucony wyjątek może być obsłużony przez dany blok <code class="highlighter-rouge">catch</code> jeśli klasa wyjątku w <code class="highlighter-rouge">()</code> znajduje się w hierarchii dziedziczenia rzuconego wyjątku. Nie jest to skomplikowane, zdecydowanie łatwiej wygląda to na przykładzie</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">IllegalArgumentException</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">ArithmeticException</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 1</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">RuntimeException</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 2</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// 3</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Blok <code class="highlighter-rouge">catch</code> 1 nie zostanie wykonany bo <code class="highlighter-rouge">ArithmeticException</code> nie znajduje się w hierarchii dziedziczenia wyjątku <code class="highlighter-rouge">IllegalArgumentException</code>. Blok <code class="highlighter-rouge">catch</code> 2 zostanie wykonany bo <code class="highlighter-rouge">IllegalArgumentException</code> dziedziczy po <code class="highlighter-rouge">RuntimeException</code>. Następny blok nie zostanie wykonany ponieważ w przypadku obsługi wyjątku pierwszy pasujący blok <code class="highlighter-rouge">catch</code> jest wykonywany jako jedyny.</p>

<h3 id="obsługa-kilku-rodzajów-wyjątków-w-jednym-bloku-catch">Obsługa kilku rodzajów wyjątków w jednym bloku <code class="highlighter-rouge">catch</code></h3>

<p>Może zdarzyć się sytuacja, w której chciałbyś obsłużyć kilka wyjątków a nie mają one wspólnej klasy bazowej. Wówczas w nawiasach po <code class="highlighter-rouge">catch</code> możesz oddzielić klasy wyjątków symbolem <code class="highlighter-rouge">|</code> jak w przykładzie poniżej.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">{</span>
    <span class="n">someMagicMethod</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">catch</span> <span class="o">(</span><span class="n">ArithmeticException</span> <span class="o">|</span> <span class="n">IllegalArgumentException</span> <span class="n">exception</span><span class="o">)</span> <span class="o">{</span> 
    <span class="c1">// handle exception</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="rodzaje-wyjątków-checked-oraz-unchecked">Rodzaje wyjątków <em>checked</em> oraz <em>unchecked</em></h2>

<p>Każdy wyjątek w języku Java dziedziczy po klasie <code class="highlighter-rouge">Throwable</code>. Wyróżniamy dwa rodzaje wyjątków, tak zwane <em>“checked exceptions”</em> oraz <em>“unchecked exceptions”</em>. Różnica między nimi sprowadza się do tego, że te pierwsze muszą być obsłużone przez programistę, wymaga tego kompilator. Przykładowym wyjątkiem typu unchecked jest <code class="highlighter-rouge">IllegalArgumentException</code>, natomiast <code class="highlighter-rouge">IOException</code> jest wyjątkiem typu checked.</p>

<figure class="">
  <img src="/assets/images/2016/01/31_wyjatki.gif" alt="" />
  
    <figcaption>Hierarchia dziedziczenia wyjątków
</figcaption>
  
</figure>

<p>Reguła podziału wyjątków na te dwa rodzaje jest prosta. Jeśli wyjątek w swojej hierarchii dziedziczenia ma <code class="highlighter-rouge">Exception</code> i nie ma <code class="highlighter-rouge">RuntimeException</code> jest wyjątkiem typu checked. W każdym innym przypadku jest to wyjątek typu unchecked.</p>

<p>Kiedy zatem stosować wyjątki typu checked? Zalecenie jest proste, za każdym razem kiedy program ma możliwość “naprawienia” zaistniałej sytuacji wyjątkowej powinniśmy rzucić wyjątek typu checked. Reguła ta jednak jest bardzo często łamana ponieważ obsługa tego typu wyjątków wymaga trochę więcej kodu ;)</p>

<h2 id="klauzula-throws">Klauzula <code class="highlighter-rouge">throws</code></h2>

<p>Wyjątek można obsłużyć na dwa sposoby. Jeden już znasz, to otoczenie fragmentu kodu blokami <code class="highlighter-rouge">try/catch</code>. Drugi sprowadza się do “zepchnięcia” odpowiedzialności obsłużenia wyjątku o poziom niżej, do metody wywołującej. Służy do tego klauzula <code class="highlighter-rouge">throws</code>, którą dodajemy do deklaracji metody. Spójrz na przykład poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CheckedExceptions</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">CheckedExceptions</span> <span class="n">instance</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CheckedExceptions</span><span class="o">();</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">instance</span><span class="o">.</span><span class="na">methodWithCheckedException</span><span class="o">();</span>
        <span class="o">}</span> 
        <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
 
    <span class="kd">private</span> <span class="kt">void</span> <span class="nf">methodWithCheckedException</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">IOException</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Metoda <code class="highlighter-rouge">methodWithCheckedException</code> rzuca wyjątek <code class="highlighter-rouge">IOException</code>, który jest typu checked. Nie obsługuje go jednak wewnątrz ale informuje o tym, że może rzucić taki wyjątek dzięki <code class="highlighter-rouge">throws</code>. W metodzie <code class="highlighter-rouge">main</code> mamy standardowy blok <code class="highlighter-rouge">catch</code>, gdzie wyjątek jest obsłużony.</p>

<h2 id="klauzula-finally">Klauzula <code class="highlighter-rouge">finally</code></h2>

<p>Blok <code class="highlighter-rouge">finally</code> możemy umieścić po <code class="highlighter-rouge">try</code>. Kod wewnątrz tego bloku zawsze zostanie wykonany<sup id="fnref:wyjatek"><a href="#fn:wyjatek" class="footnote">1</a></sup>. W rzeczywistości blok <code class="highlighter-rouge">try</code> nie musi mieć żadnej klauzuli <code class="highlighter-rouge">catch</code> jeśli ma blok <code class="highlighter-rouge">finally</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="o">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">();</span>
<span class="o">}</span>
<span class="k">finally</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Surprise!"</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Może być także sytuacja w której mamy zarówno <code class="highlighter-rouge">try</code>, <code class="highlighter-rouge">catch</code> jak i <code class="highlighter-rouge">finally</code>. Jeśli wewnątrz try zostanie rzucony wyjątek, który jest obsługiwany przez blok <code class="highlighter-rouge">catch</code> to dodatkowo, jako ostatni, uruchomi się blok <code class="highlighter-rouge">finally</code>.</p>

<h2 id="dobre-praktyki-przy-używaniu-wyjątków">Dobre praktyki przy używaniu wyjątków</h2>

<p>Poniżej zebrałem dla Ciebie zestaw kilku dobrych praktyk przy pracy z wyjątkami:</p>
<ul>
  <li>Pierwsza i najważniejsza zasada, blok <code class="highlighter-rouge">try</code> powinien być jak najmniejszy. Takie podejście bardzo ułatwia znajdowanie błędów w bardziej skomplikowanych programach. Dzięki małemu blokowi <code class="highlighter-rouge">try</code> także możemy napisać lepszy kod do obsługi wyjątku – wiemy dokładnie z którego miejsca wyjątek może zostać rzucony więc wiemy także jak najlepiej na niego zareagować.</li>
  <li>Blok <code class="highlighter-rouge">finally</code> bardzo często jest niezbędny. Szczególnie jeśli operujemy na instancjach, które wymagają “zamknięcia”.</li>
  <li>Używaj klas wyjątków, które idealnie pasują do danej sytuacji. Jeśli nie ma takiego wyjątku w bibliotece standardowej utwórz własną klasę wyjątku.</li>
  <li>Tworząc instancję wyjątków podawaj możliwie najdokładniejszy opis w treści wyjątku. Pozwala to na dużo łatwiejsze znajdowanie błędów w programie jeśli komunikat wyjątku jest szczegółowy.</li>
  <li>Nie zapominaj o używaniu wyjątków typu checked. Chociaż wymagają trochę więcej kodu i generują często irytujące błędy kompilacji ich używanie jest czasami wskazane.</li>
</ul>

<h2 id="zadanie">Zadanie</h2>

<p>Napisz program, który pobierze od użytkownika liczbę i wyświetli jej pierwiastek. Do obliczenia pierwiastka możesz użyć istniejącej metody <code class="highlighter-rouge">java.lang.Math.sqrt()</code>. Jeśli użytkownik poda liczbę ujemną rzuć wyjątek <code class="highlighter-rouge">java.lang.IllegalArgumentException</code>. Obsłuż sytuację, w której użytkownik poda ciąg znaków, który nie jest liczbą.</p>

<p>Zachęcam do samodzielnego rozwiązania zadania, jeśli rozwiązujesz zadanie samodzielnie uczysz się najwięcej. Jeśli jednak chciałbyś zobaczyć przykładowe rozwiązanie, to umieściłem je na <a href="https://github.com/SamouczekProgramisty/KursJava/blob/master/09_wyjatki/src/main/java/pl/samouczekprogramisty/kursjava/exception/exercise/Exercise.java">githubie</a>.</p>

<h2 id="dodatkowe-materiały-do-nauki">Dodatkowe materiały do nauki</h2>

<ul>
  <li><a href="http://docs.oracle.com/javase/tutorial/essential/exceptions/index.html">http://docs.oracle.com/javase/tutorial/essential/exceptions/index.html</a></li>
  <li><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html">https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html</a></li>
  <li><a href="https://www.youtube.com/watch?v=Nl16BzP6Fao">https://www.youtube.com/watch?v=Nl16BzP6Fao</a></li>
  <li><a href="https://github.com/SamouczekProgramisty/KursJava/tree/master/09_wyjatki/src/main/java/pl/samouczekprogramisty/kursjava/exception">kod źródłowy przykładów użytych w artykule</a></li>
</ul>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Bardzo się cieszę, że dobrnąłeś tak daleko. Mam nadzieję, że artykuł przypadł Ci do gustu. Na koniec mam do Ciebie prośbę, podziel się artykułem ze swoimi znajomymi, którzy mogą być zainteresowani tym tematem. Niezmiennie zależy mi na tym, żeby dotrzeć do jak największej grupy czytelników :) Jeśli nie chcesz ominąć kolejnych artykułów polub nasz profil na facebooku i dopisz się do newslettera.</p>

<p>Do następnego razu i życzę Ci udanego dnia :)</p>
<div class="footnotes">
  <ol>
    <li id="fn:wyjatek">
      <p>Są pewne sytuacje kiedy to nie jest prawdą, np. jeśli wirtualna maszyna Javy zostanie wyłączona. <a href="#fnref:wyjatek" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        <div class="notice--success" style="font-size:1em !important">
  <div class="c_almost-header text-center">Gala Twórców 2019</div>
  <p>Samouczek Programisty startuje w konkursie Gala Twórców 2019. Pierwszy etap to głosowanie. Jeśli mógłbym Cię prosić o pomoc i oddanie głosu na mój blog będę Ci wdzięczny :).</p>
  
<p class="text-center"><b><a href="https://bit.ly/gala-tworcow-samouczek">Tak, chcę Ci pomóc i oddać swój głos!</a></b></p>
  
  <p>Procedura głosowania wymaga kilku kliknięć:
  
  <ol>
    <li>Klik w „Głosuj”</li>
    <li>Klik w ikonkę Facebooka</li>
    <li>Pozwolenie aplikacji Gali Twórców na głosowanie (w oddzielnym okienku)</li>
    <li>Klik w „Głosuj”</li>
  </ol></p>
  
  <p>Głosowanie trwa do 31 marca do godziny 12:00. Z góry dziękuję, za Twój głos – jest szansa, że dzięki niemu uda mi się dotrzeć do większego grona odbiorców!</p>
</div>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Kategorie: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/kategorie/#kurs-programowania-java" class="page__taxonomy-item" rel="tag">Kurs programowania Java</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Ostatnia aktualizacja:</strong> <time datetime="2019-02-13">2019-02-13</time></p>
        
        <p><strong><i class="fas fa-fw fa-child" aria-hidden="true"></i> Autor: </strong><a href="/o-mnie/">Marcin Pietraszek</a></p>
        <hr />
        <p>
          Nie popełnia błędów tylko ten, kto nic nie robi ;). Bardzo możliwe, że znajdziesz błąd, literówkę, coś co wymaga poprawy. Jeśli chcesz możesz samodzielnie 
          <a href="https://github.com/SamouczekProgramisty/samouczekprogramisty.github.io/edit/source/_posts/2016-01-31-wyjatki-w-jezyku-java.md">poprawić tę stronę</a>. Jeśli nie chcesz poprawiać błędu, który udało Ci się znaleźć będę wdzięczny jeśli go 
          <a href="https://github.com/SamouczekProgramisty/samouczekprogramisty.github.io/issues/new?title=Błąd%20na%20stronie:%20_posts/2016-01-31-wyjatki-w-jezyku-java.md">zgłosisz</a>. Z góry dziękuję!
        </p>
      </footer>
    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Zostaw komentarz</h4>
      <section id="disqus_thread"></section>
    
</div>
    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">Także może Ci się spodobać</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2019/02/02_watki_w_jezyku_java_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/watki-w-jezyku-java/" rel="permalink">Wątki w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  10 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł ten opisuje wątki w języku Java. Po jego lekturze dowiesz się czym jest wątek, jaki ma cykl życia i jak go uruchomić. Dowiesz się czym jest synchroni...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2016/10/29_testy_jednostkowe_junit_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/testy-jednostkowe-z-junit/" rel="permalink">Testy jednostkowe z JUnit
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  8 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł ten poświęcony jest tematyce testów jednostkowych. Po jego przeczytaniu dowiesz się czym są testy jednostkowe i dlaczego są one istotne. Poznasz pods...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2016/01/24_dziedziczenie_w_jezyku_java_artykul.jpeg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/dziedziczenie-w-jezyku-java/" rel="permalink">Dziedziczenie w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  10 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W innych artykułach omawiałem pewne aspekty programowania obiektowego. Wiesz już o interfejsach i dlaczego warto ich używać. Dzisiaj przeczytasz o dziedzicze...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2016/08/17_operacje_na_plikach_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/operacje-na-plikach-w-jezyku-java/" rel="permalink">Operacje na plikach w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  11 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł ten opisuje podstawowy dostęp do plików. Poznasz zupełne podstawy systemu plików. Dowiesz się czym jest plik binarny i czym różni się od pliku teksto...</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Śledź:</strong></li>
    
    
      <li><a href="https://www.facebook.com/SamouczekProgramisty"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
    
    
      <li><a href="https://github.com/SamouczekProgramisty"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
      <li><a href="https://www.youtube.com/channel/UCisPQ5nxB6yw3SfJPFWKTEg"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> YouTube</a></li>
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>

  <ul>
    <li><a href="https://www.samouczekprogramisty.pl/o-mnie/">O mnie</a></li>
    <li><a href="https://www.samouczekprogramisty.pl/o-blogu/">O blogu</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2015-2019 Marcin Pietraszek</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>







  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-68536783-1']);
  
    _gaq.push(['_gat._anonymizeIp']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.samouczekprogramisty.pl/wyjatki-w-jezyku-java/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "207 http://www.samouczekprogramisty.pl/?p=207"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://samouczekprogramisty.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Proszę włacz obsługę JavaScript żeby móc zobaczyć komentarze.</noscript>


  



  </body>
</html>