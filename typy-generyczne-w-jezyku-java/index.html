<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.11.2 by Michael Rose
  Copyright 2013-2018 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE.txt
-->
<html lang="pl" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Typy generyczne w języku Java - Samouczek Programisty</title>
<meta name="description" content="Dzień dobry! Nadszedł czas na poznanie typów generycznych. Dowiesz się o “szablonach” w języku Java, które pozwalają na tworzenie bardziej uniwersalnych typów. Jest to wstęp, który pozwoli Ci dobrze zrozumieć kluczowy aspekt standardowych kolekcji (“tablic na sterydach”) w języku Java. Każdy programista Javy musi znać typy generyczne :) Zapraszam do artykułu!">



<meta property="og:type" content="article">
<meta property="og:locale" content="pl">
<meta property="og:site_name" content="Samouczek Programisty">
<meta property="og:title" content="Typy generyczne w języku Java">
<meta property="og:url" content="https://www.samouczekprogramisty.pl/typy-generyczne-w-jezyku-java/">


  <meta property="og:description" content="Dzień dobry! Nadszedł czas na poznanie typów generycznych. Dowiesz się o “szablonach” w języku Java, które pozwalają na tworzenie bardziej uniwersalnych typów. Jest to wstęp, który pozwoli Ci dobrze zrozumieć kluczowy aspekt standardowych kolekcji (“tablic na sterydach”) w języku Java. Każdy programista Javy musi znać typy generyczne :) Zapraszam do artykułu!">



  <meta property="og:image" content="https://www.samouczekprogramisty.pl/assets/images/2016/03/23_java_typy_generyczne_artykul.jpg">





  <meta property="article:published_time" content="2016-03-26T00:00:00+01:00">



  <meta property="article:modified_time" content="2018-12-29T09:03:42+01:00">



  

  


<link rel="canonical" href="https://www.samouczekprogramisty.pl/typy-generyczne-w-jezyku-java/">







  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Person",
      "name": "Marcin Pietraszek",
      "url": "https://www.samouczekprogramisty.pl",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Samouczek Programisty Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if lte IE 9]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->


     <link rel="shortcut icon" href="/assets/images/favicon.ico" /> 
 <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">

  </head>

  <body class="layout--single">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    <div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        <a class="site-title" href="/">Samouczek Programisty</a>
        <ul class="visible-links">
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-programowania-java/" >Kurs programowania Java</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-aplikacji-webowych/" >Kurs aplikacji webowych</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kurs-sql/" >Kurs SQL</a>
            </li>
          
            
            <li class="masthead__menu-item">
              <a href="https://www.samouczekprogramisty.pl/kontakt/" >Kontakt</a>
            </li>
          
        </ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Przełącz menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>

    <div class="initial-content">
      
  











<div class="page__hero--overlay"
  style=" background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('/assets/images/2016/03/23_java_typy_generyczne_artykul.jpg');"
>
  
    <div class="wrapper">
      <h1 class="page__title" itemprop="headline">
        
          Typy generyczne w języku Java

        
      </h1>
      
        <p class="page__lead">Dzień dobry! Nadszedł czas na poznanie typów generycznych. Dowiesz się o “szablonach” w języku Java, które pozwalają na tworzenie bardziej uniwersalnych typów. Jest to wstęp, który pozwoli Ci dobrze zrozumieć kluczowy aspekt standardowych kolekcji (“tablic na sterydach”) w języku Java. Każdy programista Javy musi znać typy generyczne :) Zapraszam do artykułu!
</p>
      
      
      
    </div>
  
  
    <span class="page__hero-caption"><a href="https://www.flickr.com/photos/huntingglee/2222875354">© huntingglee</a>
</span>
  
</div>




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="http://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
          <a href="https://www.samouczekprogramisty.pl/" itemprop="item"><span itemprop="name">Strona główna</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">Typy generyczne w języku Java</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">

  <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
    <meta itemprop="headline" content="Typy generyczne w języku Java">
    <meta itemprop="description" content="Dzień dobry! Nadszedł czas na poznanie typów generycznych. Dowiesz się o “szablonach” w języku Java, które pozwalają na tworzenie bardziej uniwersalnych typów. Jest to wstęp, który pozwoli Ci dobrze zrozumieć kluczowy aspekt standardowych kolekcji (“tablic na sterydach”) w języku Java. Każdy programista Javy musi znać typy generyczne :) Zapraszam do artykułu!">
    <meta itemprop="datePublished" content="March 26, 2016">
    <meta itemprop="dateModified" content="December 29, 2018">

    <div class="page__inner-wrap">
      

      <section class="page__content" itemprop="text">
        <aside class="sidebar__right">
            
            <nav class="toc">
                <header>
                    <h4 class="nav__title">
                        <i class="fas fa-file-alt"></i>
                        Spis treści
                    </h4>
                </header>
                <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#czym-są-typy-generyczne">Czym są typy generyczne</a></li>
<li class="toc-entry toc-h2"><a href="#porównanie-typów-generycznych-i-standardowych">Porównanie typów generycznych i standardowych</a>
<ul>
<li class="toc-entry toc-h3"><a href="#klasy-generyczne-i-parametryzowanie">Klasy generyczne i parametryzowanie</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#definicja-klasy-generycznej">Definicja klasy generycznej</a></li>
<li class="toc-entry toc-h2"><a href="#instancja-klasy-generycznej">Instancja klasy generycznej</a></li>
<li class="toc-entry toc-h2"><a href="#zagnieżdżone-typy-generyczne">Zagnieżdżone typy generyczne</a></li>
<li class="toc-entry toc-h2"><a href="#typy-generyczne-nie-rozwiązują-wszystkich-problemów">Typy generyczne nie rozwiązują wszystkich problemów</a></li>
<li class="toc-entry toc-h2"><a href="#słowo-kluczowe-extends">Słowo kluczowe extends</a></li>
<li class="toc-entry toc-h2"><a href="#dziedziczenie-typów-generycznych">Dziedziczenie typów generycznych</a></li>
<li class="toc-entry toc-h2"><a href="#metody-z-generycznymi-argumentami--wildcard">Metody z generycznymi argumentami – wildcard</a>
<ul>
<li class="toc-entry toc-h3"><a href="#fancybox">FancyBox<?></a>
<ul>
<li class="toc-entry toc-h4"><a href="#przypisanie-wartości">Przypisanie wartości</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#fancybox-extends-figure-upper-bound">FancyBox<? extends Figure> “upper bound”</a>
<ul>
<li class="toc-entry toc-h4"><a href="#przypisanie-wartości-1">Przypisanie wartości</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#fancybox-super-rectangle-lower-bound">FancyBox<? super Rectangle> “lower bound”</a>
<ul>
<li class="toc-entry toc-h4"><a href="#przypisanie-wartości-2">Przypisanie wartości</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#typy-generyczne-są-skomplikowane">Typy generyczne są skomplikowane</a></li>
<li class="toc-entry toc-h2"><a href="#materiały-dodatkowe">Materiały dodatkowe</a></li>
<li class="toc-entry toc-h2"><a href="#podsumowanie">Podsumowanie</a></li>
</ul>
            </nav>
            <hr>
            
            <div class="mailerlite__form">
                <script type="text/javascript" src="https://static.mailerlite.com/data/webforms/698980/y1i5k0.js?v5"></script>
            </div>
            <hr>
            <div class="fb-page">
            <a href="https://www.facebook.com/SamouczekProgramisty"><img src="/assets/images/facebook_logo.gif" alt="Profil Samouczka na Facebooku"/></a>
            </div>
        </aside>
        <p class="notice--info">To jest jeden z artykułów w ramach <a href="https://www.samouczekprogramisty.pl/kurs-programowania-java">darmowego kursu programowania w Javie</a>. Proszę zapoznaj się z pozostałymi częściami, mogą one być pomocne w zrozumieniu materiału z tego artykułu.</p>

<h2 id="czym-są-typy-generyczne">Czym są typy generyczne</h2>

<p>W uproszczeniu można powiedzieć, że typy generyczne są “szablonami”. Dzięki typom generycznym możemy uniknąć niepotrzebnego rzutowania. Ponadto przy ich pomocy kompilator jest w stanie sprawdzić poprawność typów na etapie kompilacji, oznacza to więcej błędów wykrytych w jej trakcie<sup id="fnref:dygresja"><a href="#fn:dygresja" class="footnote">1</a></sup>.</p>

<p>Poza tym dzięki typom generycznym możemy konstruować bardziej złożone klasy, które możemy używać w wielu kontekstach, łatwiej będzie Ci to zrozumieć na przykładzie.</p>

<h2 id="porównanie-typów-generycznych-i-standardowych">Porównanie typów generycznych i standardowych</h2>

<p>Znasz już zwykłe klasy i interfejsy, zostały one omówione we wcześniejszych artykułach. Klasy mają swoje atrybuty, których typy znasz pisząc program.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Apple</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AppleBox</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Apple</span> <span class="n">apple</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">AppleBox</span><span class="o">(</span><span class="n">Apple</span> <span class="n">apple</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">apple</span> <span class="o">=</span> <span class="n">apple</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Apple</span> <span class="nf">getApple</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">apple</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>W przykładzie powyżej klasa <code class="highlighter-rouge">AppleBox</code> “wie” jakiego typu obiekt może przechowywać, jest to obiekt typu <code class="highlighter-rouge">Apple</code>. A co jeśli chcielibyśmy zrobić analogiczną klasę dla owoców innego rodzaju? Oczywiście możemy stworzyć podobne pudełko jak w przykładzie poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Orange</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">OrangeBox</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Orange</span> <span class="n">orange</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">OrangeBox</span><span class="o">(</span><span class="n">Orange</span> <span class="n">orange</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">orange</span> <span class="o">=</span> <span class="n">orange</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Orange</span> <span class="nf">getOrange</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">orange</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Oba przykłady są jak najbardziej poprawne jednak występuje w nich duplikacja. Te same elementy, konstrukcje powielane są wielokrotnie. Duplikacja w kodzie generalnie jest złą praktyką, należy jej unikać. Możemy zatem stworzyć kolejną klasę:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">FruitBox</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Object</span> <span class="n">fruit</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">FruitBox</span><span class="o">(</span><span class="n">Object</span> <span class="n">fruit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">fruit</span> <span class="o">=</span> <span class="n">fruit</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">Object</span> <span class="nf">getFruit</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">fruit</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">FruitBox</span> <span class="n">fruitBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FruitBox</span><span class="o">(</span><span class="k">new</span> <span class="n">Orange</span><span class="o">());</span>
        <span class="n">Orange</span> <span class="n">fruit1</span> <span class="o">=</span> <span class="o">(</span><span class="n">Orange</span><span class="o">)</span> <span class="n">fruitBox</span><span class="o">.</span><span class="na">getFruit</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Z racji tego, że atrybut <code class="highlighter-rouge">fruit</code> jest typu <code class="highlighter-rouge">Object</code> możemy do niego przypisać zarówno instancję klasy <code class="highlighter-rouge">Orange</code> jak i <code class="highlighter-rouge">Apple</code>. Pojawia się jednak pewien problem. Mianowicie jeśli chcemy pobrać atrybut <code class="highlighter-rouge">fruit</code> i przypisać go do zmiennej odpowiedniego typu musimy <a href="/konwersja-i-rzutowanie-w-jezyku-java/">rzutować</a>. Tego typu konstrukcja może powodować błędy podczas wykonania programu i warto jej unikać. Z pomocą przychodzą typy generyczne. Proszę spójrz na przykład poniżej.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">T</span> <span class="n">fruit</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BoxOnSteroids</span><span class="o">(</span><span class="n">T</span> <span class="n">fruit</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">fruit</span> <span class="o">=</span> <span class="n">fruit</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">T</span> <span class="nf">getFruit</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">fruit</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Apple</span><span class="o">&gt;</span> <span class="n">appleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Apple</span><span class="o">&gt;(</span><span class="k">new</span> <span class="n">Apple</span><span class="o">());</span>
        <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;</span> <span class="n">orangeBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;(</span><span class="k">new</span> <span class="n">Orange</span><span class="o">());</span>

        <span class="n">Orange</span> <span class="n">fruit</span> <span class="o">=</span> <span class="n">orangeBox</span><span class="o">.</span><span class="na">getFruit</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">public class BoxOnSteroids&lt;T&gt;</code> to nic innego jak pierwsza linijka definicji klasy. Nowa tutaj jest konstrukcja z nawiasami. Oznacza ona właśnie typ generyczny, który możemy parametryzować innym typem. Typ ten dostaje tymczasową nazwę, w tym przypadku <code class="highlighter-rouge">T</code>, której używamy dalej w ciele klasy.</p>

<p>W trakcie tworzenia instancji obiektu <code class="highlighter-rouge">BoxOnSteroids</code> podajemy informację o typie, który chcielibyśmy wstawić w miejsce <code class="highlighter-rouge">T</code>. W naszym przykładzie są to klasy <code class="highlighter-rouge">Apple</code> lub <code class="highlighter-rouge">Orange</code>. Dzięki takiej konstrukcji kompilator dokładnie wie jakiego typu obiekt zostanie zwrócony przez metodę <code class="highlighter-rouge">getFruit</code> w związku z tym rzutowanie nie jest konieczne<sup id="fnref:rzutowanie2"><a href="#fn:rzutowanie2" class="footnote">2</a></sup>.</p>

<div class="notice--success text-center">
  
<p><span class="c_almost-header">Pobierz opracowania zadań z rozmów kwalifikacyjnych</span></p>

<p>Przygotowałem rozwiązania kilku zadań algorytmicznych z rozmów kwalifikacyjnych. Rozkładam je na czynniki pierwsze i pokazuję różne sposoby ich rozwiązania. Dołącz do grupy <strong>ponad 2896 Samouków</strong>, którzy jako pierwsi dowiadują się o nowych treściach na blogu, a prześlę je na Twój e-mail.</p>

<script type="text/javascript" src="https://static.mailerlite.com/data/webforms/704312/f8q4i2.js?v3"></script>


</div>

<h3 id="klasy-generyczne-i-parametryzowanie">Klasy generyczne i parametryzowanie</h3>

<p>Wspomniałem wcześniej, że klasy generyczne są szablonami dla nowych klas. W uproszczeniu można powiedzieć, że parametry klasy generycznej są elementami uzupełnianymi w szablonie.</p>

<p>Spróbuję opisać to bardziej obrazowo. Szablon to foremka do wycinania ciastek. Tej foremki możemy użyć do wycięcia wielu ciastek. Każde z nich możemy ozdobić w inny sposób. To w jaki sposób ciastko jest ozdobione jest parametrem tego szablonu:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CookieCutter</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">T</span> <span class="n">glaze</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<h2 id="definicja-klasy-generycznej">Definicja klasy generycznej</h2>

<p>Klasę generyczną definiujemy w następujący sposób</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">Name</span><span class="o">&lt;</span><span class="n">T1</span><span class="o">,</span> <span class="n">T2</span><span class="o">,</span> <span class="o">...,</span> <span class="n">Tn</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="cm">/* body */</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Zauważ, że w nawiasach <code class="highlighter-rouge">&lt;&gt;</code> możemy umieścić więcej niż jeden parametr. Chociaż zgodnie ze specyfikacją języka Java możesz użyć dowolnej nazwy która nadaje się na nazwę zmiennej istnieje konwencja nazewnicza sugerująca nazwy parametrów. Zwyczajowo do tego celu używa się wielkich liter <code class="highlighter-rouge">T</code>, <code class="highlighter-rouge">K</code>, <code class="highlighter-rouge">U</code>, <code class="highlighter-rouge">V</code>, <code class="highlighter-rouge">E</code>.</p>

<p>W miejsce parametrów możemy wstawić dowolny obiekt, nie może to jednak być typ prosty. Innymi słowy <code class="highlighter-rouge">Integer</code> jest w porządku, <code class="highlighter-rouge">int</code> powoduje błąd.</p>

<h2 id="instancja-klasy-generycznej">Instancja klasy generycznej</h2>

<p>Skoro już wiemy jak zdefiniować klasę generyczną przydałoby się stworzyć jej instancję, żeby w końcu jej użyć :). Linijka poniżej tworzy instancję klasy generycznej <code class="highlighter-rouge">BoxOnSteroids</code>, która parametryzowana jest typem <code class="highlighter-rouge">Orange</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;</span> <span class="n">orangeBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;(</span><span class="k">new</span> <span class="n">Orange</span><span class="o">());</span>
</code></pre></div></div>

<p>Zauważ, że i tutaj występuje pewna duplikacja. Zarówno przy określaniu typu zmiennej jak i przy wywołaniu konstruktora powtarzamy klasę <code class="highlighter-rouge">Orange</code>. Nie jest to konieczne. Jeśli kompilator jest w stanie “wywnioskować” jaki typ powinien być użyty możemy go pominąć przy konstruktorze.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;</span> <span class="n">orangeBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Orange</span><span class="o">());</span>
</code></pre></div></div>

<h2 id="zagnieżdżone-typy-generyczne">Zagnieżdżone typy generyczne</h2>

<p>Możesz też tworzyć instancje typów generycznych, które są bardziej skomplikowane. Przykład poniżej pokazuje klasę <code class="highlighter-rouge">Pair</code>, która parametryzowana jest dwoma innymi typami.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Pair</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">S</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">T</span> <span class="n">first</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">S</span> <span class="n">second</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Pair</span><span class="o">(</span><span class="n">T</span> <span class="n">first</span><span class="o">,</span> <span class="n">S</span> <span class="n">second</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">first</span> <span class="o">=</span> <span class="n">first</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">second</span> <span class="o">=</span> <span class="n">second</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">T</span> <span class="nf">getFirst</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">first</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">S</span> <span class="nf">getSecond</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">second</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Java pozwala na to aby tworząc instancję typu generycznego parametryzować go innym typem generycznym. Brzmi to skomplikowanie, mam nadzieję, że przykład pomoże Ci to zrozumieć:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Pair</span><span class="o">&lt;</span><span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;,</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Apple</span><span class="o">&gt;&gt;</span> <span class="n">pairOfBoxes</span> <span class="o">=</span>
        <span class="k">new</span> <span class="n">Pair</span><span class="o">&lt;&gt;(</span>
                <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Orange</span><span class="o">()),</span>
                <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Apple</span><span class="o">())</span>
        <span class="o">);</span>
</code></pre></div></div>

<p>W przykładzie tym tworzony jest obiekt klasy <code class="highlighter-rouge">Pair</code>, który parametryzowany jest klasami <code class="highlighter-rouge">BoxOnSteroids&lt;Orange&gt;</code> i <code class="highlighter-rouge">BoxOnSteroids&lt;Apple&gt;</code>.</p>

<h2 id="typy-generyczne-nie-rozwiązują-wszystkich-problemów">Typy generyczne nie rozwiązują wszystkich problemów</h2>

<p>Typy generyczne zostały wprowadzone w wersji Javy 1.5. Nie były dostępne od początku jej istnienia. Zatem istnieją sytuacje, w których nawet ich stosowanie może prowadzić do wystąpienia błędów w trakcie wykonywania programu. Proszę spójrz na przykład poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">BoxOnSteroids</span> <span class="n">boxWithoutType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxOnSteroids</span><span class="o">(</span><span class="k">new</span> <span class="n">Apple</span><span class="o">());</span>
<span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Apple</span><span class="o">&gt;</span> <span class="n">boxWithApple</span> <span class="o">=</span> <span class="n">boxWithoutType</span><span class="o">;</span>
<span class="n">BoxOnSteroids</span><span class="o">&lt;</span><span class="n">Orange</span><span class="o">&gt;</span> <span class="n">boxWithOrange</span> <span class="o">=</span> <span class="n">boxWithoutType</span><span class="o">;</span>
<span class="n">Apple</span> <span class="n">apple</span> <span class="o">=</span> <span class="n">boxWithApple</span><span class="o">.</span><span class="na">getFruit</span><span class="o">();</span>
<span class="n">Orange</span> <span class="n">orange</span> <span class="o">=</span> <span class="n">boxWithOrange</span><span class="o">.</span><span class="na">getFruit</span><span class="o">();</span> <span class="c1">// ClassCastException</span>
</code></pre></div></div>

<p>W przykładzie tym tworzona jest instancja klasy generycznej <code class="highlighter-rouge">BoxOnSteroids</code> bez wyspecyfikowania klasy, która znajduje się “w środku”. Następnie tę instancję przypisujemy do zmiennych typu <code class="highlighter-rouge">BoxOnSteroids&lt;Apple&gt;</code> i <code class="highlighter-rouge">BoxOnSteroids&lt;Orange&gt;</code>. O ile w pierwszym przypadku typ owocu trzymanego w środku się zgadza to ostatnia linia nie jest poprawna – generuje błąd typu <code class="highlighter-rouge">ClassCastException</code>. Obiekt typu <code class="highlighter-rouge">Apple</code> jest rzutowany przez kompilator do typu <code class="highlighter-rouge">Orange</code><sup id="fnref:rzutowanie"><a href="#fn:rzutowanie" class="footnote">3</a></sup>.</p>

<h2 id="słowo-kluczowe-extends">Słowo kluczowe <code class="highlighter-rouge">extends</code></h2>

<p>To słowo kluczowe ma zastosowanie także w przypadku typów generycznych. Dzięki niemu możemy ograniczyć zestaw klas którymi możemy parametryzować nasz typ generyczny. Omówmy to na przykładzie:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Figure</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">getName</span><span class="o">();</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Circle</span> <span class="kd">implements</span> <span class="n">Figure</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"circle"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">BoxForFigures</span><span class="o">&lt;</span><span class="n">T</span> <span class="kd">extends</span> <span class="n">Figure</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">T</span> <span class="n">element</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">BoxForFigures</span><span class="o">(</span><span class="n">T</span> <span class="n">element</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">element</span> <span class="o">=</span> <span class="n">element</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">T</span> <span class="nf">getElement</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">element</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getElementName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">element</span><span class="o">.</span><span class="na">getName</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">BoxForFigures</span><span class="o">&lt;</span><span class="n">Circle</span><span class="o">&gt;</span> <span class="n">circleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxForFigures</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Circle</span><span class="o">());</span>
<span class="n">BoxForFigures</span><span class="o">&lt;</span><span class="n">Apple</span><span class="o">&gt;</span> <span class="n">appleBox</span><span class="o">;</span> <span class="c1">// complilation error</span>
</code></pre></div></div>

<p>Jak widzisz przykład definiuje prosty interfejs <code class="highlighter-rouge">Figure</code> i klasę <code class="highlighter-rouge">Circle</code>, która go implementuje. Następnie definiujemy klasę <code class="highlighter-rouge">BoxForFigures</code>, która jest generyczna i może być parametryzowana przez typy dziedziczące/implementujące <code class="highlighter-rouge">Figure</code>.</p>

<p>Dzięki takiemu zapisowi kompilator pozwoli nam stworzyć instancję <code class="highlighter-rouge">BoxForFigures&lt;Circle&gt; circleBox</code> jednak zacznie się buntować przy <code class="highlighter-rouge">BoxForFigures&lt;Apple&gt; appleBox</code> (<code class="highlighter-rouge">Apple</code> nie implementuje interfejsu <code class="highlighter-rouge">Figure</code>).</p>

<p>Kolejną zaletą używania tego słowa kluczowego jest możliwość wywoływania metod na obiekcie typu parametryzowanego. W przykładzie powyżej wiemy że <code class="highlighter-rouge">T</code> jest czymś co implementuje <code class="highlighter-rouge">Figure</code> więc musi mieć metody dostępne w tym interfejsie. Właśnie z tego powodu w metodzie <code class="highlighter-rouge">getElementName</code> możemy wywołać metodę <code class="highlighter-rouge">getName</code> z tego interfejsu.</p>

<h2 id="dziedziczenie-typów-generycznych">Dziedziczenie typów generycznych</h2>

<p>Tutaj należy się dodatkowe zdanie wyjaśnienia poparte prostym przykładem. Proszę spójrz na początek na klasy <code class="highlighter-rouge">Rectangle</code> i <code class="highlighter-rouge">Square</code> poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">implements</span> <span class="n">Figure</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"rectangle"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Square</span> <span class="kd">extends</span> <span class="n">Rectangle</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"square"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Jak wiesz każda klasa w języku Java dziedziczy po klasie <code class="highlighter-rouge">Object</code> (bezpośrednio, bądź pośrednio). W naszym przykładzie bezpośrednio po klasie <code class="highlighter-rouge">Object</code> dziedziczą klasy <code class="highlighter-rouge">Rectangle</code>, <code class="highlighter-rouge">BoxForFigures&lt;Rectangle&gt;</code> i <code class="highlighter-rouge">BoxForFigures&lt;Square&gt;</code><sup id="fnref:plik_class"><a href="#fn:plik_class" class="footnote">4</a></sup>. Natomiast <code class="highlighter-rouge">Square</code> dziedziczy po <code class="highlighter-rouge">Rectangle</code>.</p>

<figure class="">
  <img src="/assets/images/2016/03/23_dziedziczenie_typow_generycznych_2.jpg" alt="" />
  
    <figcaption>Dziedziczenie typów generycznych.
</figcaption>
  
</figure>

<p>Ma to swoje konsekwencje widoczne w przykładzie poniżej:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Rectangle</span> <span class="n">rectangle</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Square</span><span class="o">();</span>
<span class="n">BoxForFigures</span><span class="o">&lt;</span><span class="n">Rectangle</span><span class="o">&gt;</span> <span class="n">rectangleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BoxForFigures</span><span class="o">&lt;</span><span class="n">Square</span><span class="o">&gt;(</span><span class="k">new</span> <span class="n">Square</span><span class="o">());</span> <span class="c1">// compilation error</span>
</code></pre></div></div>

<p>Dzięki takiemu schematowi dziedziczenia do referencji typu <code class="highlighter-rouge">Rectangle</code> możemy przypisać obiekt <code class="highlighter-rouge">Square</code>. Jednak próba przypisania obiektu <code class="highlighter-rouge">BoxForFigures&lt;Square&gt;</code> do referencji <code class="highlighter-rouge">BoxForFigures&lt;Rectangle&gt;</code> powoduje błąd kompilacji.</p>

<p>Jednak podobnie jak w przypadku zwykłych klas, klasy generyczne także mogą dziedziczyć po innych klasach. W szczególności mogą także dziedziczyć po klasach generycznych.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">StandardBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">T</span> <span class="n">object</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">StandardBox</span><span class="o">(</span><span class="n">T</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="n">object</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">FancyBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="kd">extends</span> <span class="n">StandardBox</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">FancyBox</span><span class="o">(</span><span class="n">T</span> <span class="n">object</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">saySomethingFancy</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"our "</span> <span class="o">+</span> <span class="n">object</span> <span class="o">+</span> <span class="s">" is cool!"</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">box</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="s">"something"</span><span class="o">);</span>
        <span class="n">box</span><span class="o">.</span><span class="na">saySomethingFancy</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>W naszym przykładzie klasa <code class="highlighter-rouge">FancyBox</code> dziedziczy po <code class="highlighter-rouge">StandardBox</code>, widoczne jest to na diagramie poniżej.</p>

<figure class="">
  <img src="/assets/images/2016/03/23_dziedziczenie_typow_generycznych.jpg" alt="" />
  
    <figcaption>Dziedziczenie typów generycznych
</figcaption>
  
</figure>

<h2 id="metody-z-generycznymi-argumentami--wildcard">Metody z generycznymi argumentami – wildcard</h2>

<h3 id="fancybox"><code class="highlighter-rouge">FancyBox&lt;?&gt;</code></h3>

<p>Pisząc metody, które jako argumenty przyjmują typy generyczne nie zawsze chcesz dokładnie specyfikować typ. W takim wypadku z pomocą przychodzi znak <code class="highlighter-rouge">?</code>, który może akceptować różne typy.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method1</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;?&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Object</span> <span class="n">object</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="na">object</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">object</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">plainWildcard</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">method1</span><span class="o">(</span><span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Object</span><span class="o">()));</span>
    <span class="n">method1</span><span class="o">(</span><span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Square</span><span class="o">()));</span>
    <span class="n">method1</span><span class="o">(</span><span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Apple</span><span class="o">()));</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Jak widzisz w przykładzie powyżej metoda method1 może akceptować różne klasy <code class="highlighter-rouge">FancyBox</code> parametryzowaną dowolnym typem.</p>

<h4 id="przypisanie-wartości">Przypisanie wartości</h4>

<p>Ma to jednak swoje konsekwencje. Klasa, która parametryzowana jest <code class="highlighter-rouge">?</code> nie przyjmie żadnych obiektów poza <code class="highlighter-rouge">null</code>. Przykład poniżej zakończy się błędem kompilacji:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">FancyBox</span><span class="o">&lt;?&gt;</span> <span class="n">box</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="s">"object"</span><span class="o">);</span>
<span class="n">box</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="c1">// box.object = "xxx"; // compilation error</span>
</code></pre></div></div>

<h3 id="fancybox-extends-figure-upper-bound"><code class="highlighter-rouge">FancyBox&lt;? extends Figure&gt;</code> “upper bound”</h3>

<p>Znak <code class="highlighter-rouge">?</code> może występować także w połączeniu ze słówkiem kluczowym <code class="highlighter-rouge">extends</code>. W takim przypadku możesz ograniczyć akceptowane typy “z góry”. W przykładzie poniżej metoda akceptuje jedynie instancje <code class="highlighter-rouge">FancyBox</code>, które parametryzowane są klasami dziedziczącymi po <code class="highlighter-rouge">Figure</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method2</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Figure</span><span class="o">&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Figure</span> <span class="n">figure</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="na">object</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">figure</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method3</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Figure</span> <span class="n">figure</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="na">object</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">figure</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">upperBoundWildcard</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;</span> <span class="n">fancyFigureBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Circle</span><span class="o">());</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Circle</span><span class="o">&gt;</span> <span class="n">fancyCircleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Circle</span><span class="o">());</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Square</span><span class="o">&gt;</span> <span class="n">fancySquareBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Square</span><span class="o">());</span>
    <span class="n">method2</span><span class="o">(</span><span class="n">fancyFigureBox</span><span class="o">);</span>
    <span class="n">method2</span><span class="o">(</span><span class="n">fancyCircleBox</span><span class="o">);</span>
    <span class="n">method2</span><span class="o">(</span><span class="n">fancySquareBox</span><span class="o">);</span>
    <span class="c1">// method3(fancySquareBox); // compilation error</span>
<span class="o">}</span>
</code></pre></div></div>

<p>W przykładzie tym możesz także zobaczyć, że typ <code class="highlighter-rouge">FancyBox&lt;Figure&gt;</code> jest bardziej restrykcyjny niż <code class="highlighter-rouge">FancyBox&lt;? extends Figure&gt;</code>. W konsekwencji próba wywołania <code class="highlighter-rouge">method3</code> z argumentem innego typu niż <code class="highlighter-rouge">FancyBox&lt;Figure&gt;</code> skutkuje błędem kompilacji.</p>

<h4 id="przypisanie-wartości-1">Przypisanie wartości</h4>

<p>Podobnie jak w przypadku <code class="highlighter-rouge">?</code> tutaj także są ograniczenia dotyczące przypisywania wartości. Spójrz jeszcze raz na przykład:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method2</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">Figure</span><span class="o">&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Figure</span> <span class="n">figure</span> <span class="o">=</span> <span class="n">box</span><span class="o">.</span><span class="na">object</span><span class="o">;</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">figure</span><span class="o">);</span>
    <span class="c1">// box.object = null;</span>
    <span class="c1">// box.object = new Square(); // compilation error</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Skoro wewnątrz metody parametr <code class="highlighter-rouge">box</code> może mieć zarówno typ <code class="highlighter-rouge">FancyBox&lt;Square&gt;</code> jak i <code class="highlighter-rouge">FancyBox&lt;Circle&gt;</code> (jak i wiele innych) kompilator nie może pozwolić na wstawienie tam obiektu innego niż <code class="highlighter-rouge">null</code>. Nie może tego zrobić bo nie wie jakiego typu obiekty przechowywane są w <code class="highlighter-rouge">box</code>.</p>

<h3 id="fancybox-super-rectangle-lower-bound"><code class="highlighter-rouge">FancyBox&lt;? super Rectangle&gt;</code> “lower bound”</h3>

<p>Poza ograniczeniem “z góry” możesz także ograniczyć akceptowalne typy “z dołu”. W przykładzie poniżej metoda akceptuje wyłącznie argumenty typu <code class="highlighter-rouge">FancyBox&lt;Object&gt;</code>, <code class="highlighter-rouge">FancyBox&lt;Figure&gt;</code> i <code class="highlighter-rouge">FancyBox&lt;Rectangle&gt;</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method4</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">Rectangle</span><span class="o">&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Square</span><span class="o">();</span>
    <span class="c1">// box.object = new Circle(); // compilation error</span>
<span class="o">}</span>

<span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">lowerBoundWildcard</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Rectangle</span><span class="o">&gt;</span> <span class="n">fancyRectangleBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Rectangle</span><span class="o">());</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;</span> <span class="n">fancyFiguraBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Rectangle</span><span class="o">());</span>
    <span class="n">FancyBox</span><span class="o">&lt;</span><span class="n">Object</span><span class="o">&gt;</span> <span class="n">fancyObjectBox</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FancyBox</span><span class="o">&lt;&gt;(</span><span class="k">new</span> <span class="n">Object</span><span class="o">());</span>
    <span class="n">method4</span><span class="o">(</span><span class="n">fancyRectangleBox</span><span class="o">);</span>
    <span class="n">method4</span><span class="o">(</span><span class="n">fancyFiguraBox</span><span class="o">);</span>
    <span class="n">method4</span><span class="o">(</span><span class="n">fancyObjectBox</span><span class="o">);</span>
    <span class="c1">// FancyBox&lt;Square&gt; fancySquareBox = new FancyBox&lt;&gt;(new Square());</span>
    <span class="c1">// method4(fancySquareBox); // compilation error</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Zauważ, ze w niektórych miejscach nie ma potrzeby podawania typu generycznego. Samo <code class="highlighter-rouge">&lt;&gt;</code> wystarczy, kompilator jest w stanie wywnioskować jakiego typu może się tam spodziewać. Typy generyczne są skomplikowane. Jeśli aktualnie masz mętlik w głowie nie przejmuj się, przeczytaj artykuł jeszcze raz, przejrzyj przykłady. Zrozumienie przyjdzie z doświadczeniem.</p>

<h4 id="przypisanie-wartości-2">Przypisanie wartości</h4>

<p>Wyżej wspomniałem, że przy ograniczeniu z dołu kompilator wie czego może się spodziewać. W przykładzie:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method4</span><span class="o">(</span><span class="n">FancyBox</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="n">Rectangle</span><span class="o">&gt;</span> <span class="n">box</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">box</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
    <span class="n">box</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Rectangle</span><span class="o">();</span>
    <span class="n">box</span><span class="o">.</span><span class="na">object</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Square</span><span class="o">();</span>
    <span class="c1">// box.object = new Object(); // compilation error</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Parametr <code class="highlighter-rouge">box</code> może być typu <code class="highlighter-rouge">FancyBox&lt;Object&gt;</code>, <code class="highlighter-rouge">FancyBox&lt;Figure&gt;</code> i <code class="highlighter-rouge">FancyBox&lt;Rectangle&gt;</code>. Zatem w tym przypadku do pola <code class="highlighter-rouge">box.object</code> można przypisać <code class="highlighter-rouge">null</code> i każdy obiekt, który dziedziczy po <code class="highlighter-rouge">Rectangle</code>.</p>

<h2 id="typy-generyczne-są-skomplikowane">Typy generyczne są skomplikowane</h2>

<p>Nie zostały one dodane do Javy od samego początku. W związku z tym, że twórcy chcieli zachować kompatybilność wstecz<sup id="fnref:compatibility"><a href="#fn:compatibility" class="footnote">5</a></sup> istnieje wiele kruczków, które nie są trywialne. Pominąłem w artykule np. “type erasure” czy generyczne metody, które nie są istotne na początku. Jeśli jesteś nimi zainteresowany odsyłam do materiałów dodatkowych.</p>

<h2 id="materiały-dodatkowe">Materiały dodatkowe</h2>

<p>Wszystkie przykłady użyte w tym artykule dostępne są na <a href="https://github.com/SamouczekProgramisty/KursJava/tree/master/13_typy_generyczne/src/main/java/pl/samouczekprogramisty/kursjava/generics">githubie</a>. Poniżej zebrałem dla Ciebie zestaw dodatkowy materiałów, jeśli chciałbyś poszerzyć swoją wiedzę na temat typów generycznych w języku Java.</p>

<ul>
  <li><a href="https://docs.oracle.com/javase/tutorial/java/generics/index.html">https://docs.oracle.com/javase/tutorial/java/generics/index.html</a></li>
  <li><a href="https://docs.oracle.com/javase/tutorial/extra/generics/index.html">https://docs.oracle.com/javase/tutorial/extra/generics/index.html</a></li>
  <li><a href="https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5">https://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.5</a></li>
  <li><a href="https://pl.wikipedia.org/wiki/Programowanie_uog%C3%B3lnione">https://pl.wikipedia.org/wiki/Programowanie_uog%C3%B3lnione</a></li>
</ul>

<h2 id="podsumowanie">Podsumowanie</h2>

<p>Nie jest to oczywiście kompletny artykuł dotyczący typów generycznych w Javie. Pominięte zostały aspekty wymazywania typów czy bardziej szczegółowe informacje dotyczące użycia ?. Jeśli któryś fragment jest dla Ciebie nie do końca zrozumiały daj znać, postaram się rozszerzyć artykuł o dodatkowe przykłady i opisy.</p>

<p>Na koniec mam do Ciebie prośbę. Proszę podziel się artykułem ze swoimi znajomymi, którzy mogą być zainteresowani tematem programowania. Zależy mi na dotarciu do jak największej liczby czytelników. Jeśli nie chcesz ominąć żadnego kolejnego artykułu polub nas na Facebooku :) Do następnego razu!</p>
<div class="footnotes">
  <ol>
    <li id="fn:dygresja">
      <p>Mała dygresja. Każdy błąd w kodzie kosztuje. Ktoś w końcu płaci za pracę testerów, programistów, administratorów. Im wcześniej wykryjemy błąd tym tańsze jest jego naprawienie. Poprawienie programu działającego na środowisku produkcyjnym może być bardzo drogie. Wykrywanie błędów w trakcie kompilacji, chociaż może być frustrujące dla programisty jest najtańszym rozwiązaniem :) <a href="#fnref:dygresja" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:rzutowanie2">
      <p>W praktyce rzutowanie tam występuje jednak jest wykonywane automatycznie przez kompilator generujący bytecode. <a href="#fnref:rzutowanie2" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:rzutowanie">
      <p>Tu właśnie objawia się to automatyczne rzutowanie generowane przez kompilator <a href="#fnref:rzutowanie" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:plik_class">
      <p>W rzeczywistości, po skompilowaniu powstanie jeden plik class z klasą <code class="highlighter-rouge">BoxForFigures</code>. <a href="#fnref:plik_class" class="reversefootnote">&#8617;</a></p>
    </li>
    <li id="fn:compatibility">
      <p>Twórcom zależało na tym aby programy napisane w starej wersji Javy mogły być uruchamiane na najnowszych wersjach maszyny wirtualnej. <a href="#fnref:compatibility" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

        

<div class="notice--success text-center">
  
<p><span class="c_almost-header">Pobierz opracowania zadań z rozmów kwalifikacyjnych</span></p>

<p>Przygotowałem rozwiązania kilku zadań algorytmicznych z rozmów kwalifikacyjnych. Rozkładam je na czynniki pierwsze i pokazuję różne sposoby ich rozwiązania. Dołącz do grupy <strong>ponad 2896 Samouków</strong>, którzy jako pierwsi dowiadują się o nowych treściach na blogu, a prześlę je na Twój e-mail.</p>

<script type="text/javascript" src="https://static.mailerlite.com/data/webforms/698960/m0b4d5.js?v2"></script>


</div>

        
      </section>

      <footer class="page__meta">
        
        


  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Kategorie: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/kategorie/#kurs-programowania-java" class="page__taxonomy-item" rel="tag">Kurs programowania Java</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Ostatnia aktualizacja:</strong> <time datetime="2018-12-29">2018-12-29</time></p>
        
        <p><strong><i class="fas fa-fw fa-child" aria-hidden="true"></i> Autor: </strong><a href="/o-mnie/">Marcin Pietraszek</a></p>
        <hr />
        <p>
          Nie popełnia błędów tylko ten, kto nic nie robi ;). Bardzo możliwe, że znajdziesz błąd, literówkę, coś co wymaga poprawy. Jeśli chcesz możesz samodzielnie 
          <a href="https://github.com/SamouczekProgramisty/samouczekprogramisty.github.io/edit/source/_posts/2016-03-26-typy-generyczne-w-jezyku-java.md">poprawić tę stronę</a>. Jeśli nie chcesz poprawiać błędu, który udało Ci się znaleźć będę wdzięczny jeśli go 
          <a href="https://github.com/SamouczekProgramisty/samouczekprogramisty.github.io/issues/new?title=Błąd%20na%20stronie:%20_posts/2016-03-26-typy-generyczne-w-jezyku-java.md">zgłosisz</a>. Z góry dziękuję!
        </p>
      </footer>
    </div>

    
      <div class="page__comments">
  
  
      <h4 class="page__comments-title">Zostaw komentarz</h4>
      <section id="disqus_thread"></section>
    
</div>
    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">Także może Ci się spodobać</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2019/02/02_watki_w_jezyku_java_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/watki-w-jezyku-java/" rel="permalink">Wątki w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  10 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">Artykuł ten opisuje wątki w języku Java. Po jego lekturze dowiesz się czym jest wątek, jaki ma cykl życia i jak go uruchomić. Dowiesz się czym jest synchroni...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2016/01/24_dziedziczenie_w_jezyku_java_artykul.jpeg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/dziedziczenie-w-jezyku-java/" rel="permalink">Dziedziczenie w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  10 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W innych artykułach omawiałem pewne aspekty programowania obiektowego. Wiesz już o interfejsach i dlaczego warto ich używać. Dzisiaj przeczytasz o dziedzicze...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2019/04/20_jak_pisac_dobry_kod_w_javie_artykul.jpeg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/jak-pisac-kod-wysokiej-jakosci-w-jezyku-java/" rel="permalink">Jak pisać kod wysokiej jakości w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  17 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W artykule przeczytasz o tym czym jest konwencja nazewnicza. Dowiesz się jak jej stosować. Na przykładach pokażę Ci najczęściej popełniane błędy wraz z propo...</p>
  </article>
</div>
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="http://schema.org/CreativeWork">
    
      <div class="archive__item-teaser">
        <img src=
          
            "/assets/images/2016/10/13_klasy_wewnetrzne_anonimowe_artykul.jpg"
          
          alt="">
      </div>
    
    <h2 class="archive__item-title" itemprop="headline">
      
        <a href="/klasy-wewnetrzne-i-anonimowe-w-jezyku-java/" rel="permalink">Klasy wewnętrzne i anonimowe w języku Java
</a>
      
    </h2>
    
      <p class="page__meta"><i class="far fa-clock" aria-hidden="true"></i> 




  9 minut(y)
</p>
    
    <p class="archive__item-excerpt" itemprop="description">W artykule tym przeczytasz o klasach wewnętrznych i klasach anonimowych w Javie. Dowiesz się jak wyglądają, jakie mają ograniczenia oraz kiedy możemy ich uży...</p>
  </article>
</div>
        
      </div>
    </div>
  
  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Śledź:</strong></li>
    
    
      <li><a href="https://www.facebook.com/SamouczekProgramisty"><i class="fab fa-fw fa-facebook-square" aria-hidden="true"></i> Facebook</a></li>
    
    
      <li><a href="https://github.com/SamouczekProgramisty"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
    
    
      <li><a href="https://www.youtube.com/channel/UCisPQ5nxB6yw3SfJPFWKTEg"><i class="fab fa-fw fa-youtube" aria-hidden="true"></i> YouTube</a></li>
    
    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>

  <ul>
    <li><a href="https://www.samouczekprogramisty.pl/o-mnie/">O mnie</a></li>
    <li><a href="https://www.samouczekprogramisty.pl/o-blogu/">O blogu</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2015-2019 Marcin Pietraszek</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://use.fontawesome.com/releases/v5.0.12/js/all.js"></script>







  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-68536783-1']);
  
    _gaq.push(['_gat._anonymizeIp']);
  
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





    
  <script>
    var disqus_config = function () {
      this.page.url = "https://www.samouczekprogramisty.pl/typy-generyczne-w-jezyku-java/";  // Replace PAGE_URL with your page's canonical URL variable
      this.page.identifier = "273 http://www.samouczekprogramisty.pl/?p=273"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    (function() { // DON'T EDIT BELOW THIS LINE
      var d = document, s = d.createElement('script');
      s.src = 'https://samouczekprogramisty.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
<noscript>Proszę włacz obsługę JavaScript żeby móc zobaczyć komentarze.</noscript>


  



  </body>
</html>